<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script type="text/javascript">
		var str = 'aabbccddd';
		var obj = {};
		for (var i = str.length - 1; i >= 0; i--) {
			var v = str.charAt(i);
			if(obj[v] && obj[v].value==v){
				obj[v].count++;
			}else{
				obj[v]= {};
				obj[v].count = 1;
				obj[v].value = v;
			}		
		};
		console.log(obj)
		for(var key in obj){
			document.write(obj[key].value + '=' + obj[key].count+''+'<br>')
		}
	</script>
</body>
</html>