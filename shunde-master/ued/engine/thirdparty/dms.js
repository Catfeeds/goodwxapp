var Dms={parseDMS:function(a){if("number"==typeof a&&isFinite(a))return Number(a);var c=String(a).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);""==c[c.length-1]&&c.splice(c.length-1);if(""==c)return NaN;switch(c.length){case 3:c=c[0]/1+c[1]/60+c[2]/3600;break;case 2:c=c[0]/1+c[1]/60;break;case 1:c=c[0];break;default:return NaN}/^-|[WS]$/i.test(a.trim())&&(c=-c);return Number(c)},separator:"",toDMS:function(a,c,b){if(isNaN(a))return null;void 0===c&&(c="dms");if(void 0===b)switch(c){case "d":case "deg":b=
4;break;case "dm":case "deg+min":b=2;break;case "dms":case "deg+min+sec":b=0;break;default:c="dms",b=0}a=Math.abs(a);switch(c){default:case "d":case "deg":a=a.toFixed(b);100>a&&(a="0"+a);10>a&&(a="0"+a);b=a+"\u00b0";break;case "dm":case "deg+min":c=(60*a).toFixed(b);a=Math.floor(c/60);c=(c%60).toFixed(b);100>a&&(a="0"+a);10>a&&(a="0"+a);10>c&&(c="0"+c);b=a+"\u00b0"+Dms.separator+c+"\u2032";break;case "dms":case "deg+min+sec":var d=(3600*a).toFixed(b);a=Math.floor(d/3600);c=Math.floor(d/60)%60;b=(d%
60).toFixed(b);100>a&&(a="0"+a);10>a&&(a="0"+a);10>c&&(c="0"+c);10>b&&(b="0"+b);b=a+"\u00b0"+Dms.separator+c+"\u2032"+Dms.separator+b+"\u2033"}return b},toLat:function(a,c,b){c=Dms.toDMS(a,c,b);return null===c?"\u2013":c.slice(1)+Dms.separator+(0>a?"S":"N")},toLon:function(a,c,b){c=Dms.toDMS(a,c,b);return null===c?"\u2013":c+Dms.separator+(0>a?"W":"E")},toBrng:function(a,c,b){a=(Number(a)+360)%360;a=Dms.toDMS(a,c,b);return null===a?"\u2013":a.replace("360","0")},compassPoint:function(a,c){void 0===
c&&(c=3);a=(a%360+360)%360;var b;switch(c){case 1:switch(Math.round(4*a/360)%4){case 0:b="N";break;case 1:b="E";break;case 2:b="S";break;case 3:b="W"}break;case 2:switch(Math.round(8*a/360)%8){case 0:b="N";break;case 1:b="NE";break;case 2:b="E";break;case 3:b="SE";break;case 4:b="S";break;case 5:b="SW";break;case 6:b="W";break;case 7:b="NW"}break;case 3:switch(Math.round(16*a/360)%16){case 0:b="N";break;case 1:b="NNE";break;case 2:b="NE";break;case 3:b="ENE";break;case 4:b="E";break;case 5:b="ESE";
break;case 6:b="SE";break;case 7:b="SSE";break;case 8:b="S";break;case 9:b="SSW";break;case 10:b="SW";break;case 11:b="WSW";break;case 12:b="W";break;case 13:b="WNW";break;case 14:b="NW";break;case 15:b="NNW"}break;default:throw new RangeError("Precision must be between 1 and 3");}return b}};void 0===String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")});"undefined"!=typeof module&&module.exports&&(module.exports=Dms);
