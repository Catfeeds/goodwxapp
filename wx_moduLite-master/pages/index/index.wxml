<!--index.wxml-->
<view class="app">

<!--大图模板 1  -->
<template name="bigImg">
    <view class="a-name tmp-one-name">{{title}}</view>
    <view class="a-img tmp-one-img" style="background-image:url({{image[0]}})"></view>
    <view class="a-author">{{author}} 
      <view class="view-times">
      {{view}}阅读
      </view>
    </view>
</template>
<!--小图模板 2  -->
<template name="smallImg">
    <view class="a-name tmp-two-name">{{title}}</view>
    <view class="a-img tmp-two-img">
      <view class="two-img" wx:for="{{image}}" style="background-image:url({{item}})"></view>
    </view>
    <view class="clear"></view>
    <view class="a-author">{{author}}
    <view class="view-times">
      {{view}}阅读
      </view>
    </view>
</template>
<!--单一小图模板 3  -->
<template name="singleSmall">
  <view class='three-left'>
    <view class='a-name tmp-three-name'>{{title}}</view>
    <view class="a-author three-author">{{author}} 
        <view class="view-times">
        {{view}}阅读
        </view>
      </view>
  </view>
  <view class='a-img tmp-three-img'>
    <view class='three-img' style='background-image:url({{image[0]}})'></view>
  </view>
  <view class='clear'></view>
</template>


<!--顶部分类  -->
<view class="category">
  <scroll-view class="scroll-view_H" scroll-x="true" scroll-with-animation="true" scroll-into-view="{{scroll_to}}"> 
    <block wx:for="{{followCateList}}">
      <view class="scroll-view-item_H " id="category{{item.id}}" data-id="{{item.id}}"  bindtap="getThisList">
        <view class='scroll-view-txt {{item.active}}'>{{item.name}}</view>
      </view>
    </block>
  </scroll-view>
  <view class="edit-cate" bindtap="openCategorys">
    <image class='cate-img' src="../../pictures/add.png"></image>
  </view>
</view>


<!--文章列表部分  -->

  <swiper class='main-swiper' id='mainSwiper' current="{{swiperCurrent}}" data-currentCate='{{current_cate}}' duration='{{main_duration}}' bindchange='mainSwiperChange' > 
  <view class='load-info-box {{load_animate}}'><!--加载到新数据显示  -->
    <view class='load-in {{loadin_animate}}'>{{articletips}}</view>
  </view>
  <block wx:for="{{articleLists}}">
      <swiper-item data-cateId="{{item.cate_id}}">  
      
      <view class="article-list">  

      <scroll-view scroll-y style="width: auto; height: {{viewHeight}}px;" bindscrolltolower="loadMore" scroll-top='{{scrolltop}}'>
      <!--版块容器  -->
        <block wx:for="{{item.list}}">
        <view class='article' data-id='{{item.id}}' bindtap='navigateto'>
          <block wx:if="{{item.compose == 1}}">
            <template is="bigImg" data="{{...item}}"></template>
          </block>
          <block wx:if="{{item.compose == 2}}">
            <template is="smallImg" data="{{...item}}"></template>
          </block>
          <block wx:if="{{item.compose == 3}}">
            <template is="singleSmall" data="{{...item}}"></template>
          </block>
          </view>
        </block>

        <view class='load-more'> 
          <view class='more-inner'>{{item.loadinfo}}</view>
        </view>

       </scroll-view> 
       </view> 
     </swiper-item> 
  </block>
  </swiper>



<!--刷新  -->
<view class='refresh' bindtap='refreshThisList'>
  <image class='refresh-image {{refresh_animate}}' src='../../pictures/refresh.png'></image>
</view>

</view>