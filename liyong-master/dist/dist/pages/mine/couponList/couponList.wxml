<block wx:if="{{ !displayError }}"><view id="page"><view class="topBar ui-flex" wx:if="{{ tab === 'normal' }}"><input class="ui-flex1" placeholder="请输入兑换码" bindinput="codeChange" value="{{ code }}"/><button class="ui-marginLeft10" bindtap="exchange">兑换</button></view><view class="couponList {{ tab === 'expired' ? 'couponList--expired' : '' }}"><view class="coupon__nonuse" wx:if="{{ choose }}" bindtap="chooseCoupon">不使用优惠券</view><coupon class="ui-block ui-marginBottom15" wx:for="{{ couponList }}" wx:key="{{ item.couponId }}" coupon="{{ item }}" disabled="{{ tab === 'expired' || (choose && item._limit) }}" bindtap="chooseCoupon" data-index="{{ item.couponId }}"></coupon></view><view class="couponList--empty" wx:if="{{ !couponList.length }}"><image src="https://imgcdn.youhaodongxi.com/weapp/icon-coupon-list-empty-f2cf5fb2a4.png"></image><view>暂无可用优惠券</view></view><view class="couponMore" wx:if="{{ tab === 'normal' && paging.finished }}"><view>没有更多优惠券了，</view><view class="link" bindtap="getExpireCouponList">查看过期券</view></view></view></block><view id="error" wx:if="{{ displayError && !isFetching }}"><view class="content ui-fontSize14 ui-blackLight"><image src="https://imgcdn.youhaodongxi.com/weapp/500-a637418d0e.png"></image><view class="ui-marginTop10" wx:if="{{ displayError }}">{{ displayError.message }}</view><view class="ui-marginTop10" wx:else="wx:else">页面加载失败，请稍后重试~</view><view class="ui-fontSize14 reloadLink" bindtap="reload">重新加载</view></view></view>