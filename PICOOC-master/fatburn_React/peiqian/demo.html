<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"
    />
	<title>Document</title>
	<script type="text/javascript" src="jquery-3.0.1.min.js"></script>
	<style>
		div{
			float: left;
			width: 100%;
			height: 500px;
			border:1px solid #000;
			box-sizing: border-box;
			overflow-y:hidden;
			position: relative;
		}
		#year{
			position: absolute;
			top: 0;
			left: 0
		}
	</style>
</head>
<body>
	<div class="waistList"><canvas id="year" height="600"></canvas></div>
</body>
<script type="text/javascript">
	$(function(){
		var oc1 = $('#year').get(0);
		oc1 = oc1.getContext('2d');
		$("#year").attr("height",4100);
			for(var i = 0;i < 82;i++){
				oc1.font="30px Arial";
				oc1.fillText(1936+i , 120 , 50*i);
			}
		});
		var startX;
		var startY;
		var moveEndX;
		var moveEndY;
		var testTop;
		$("#year").attr("width", $(window).width());
		$("#year").css("top", parseInt(-parseInt($(window).height() / 2)));
		$(".waistList").on("touchstart", function (e) {
			event.preventDefault();//阻止触摸时浏览器的缩放、滚动条滚动  
			startX = e.originalEvent.changedTouches[0].pageX,
				startY = e.originalEvent.changedTouches[0].pageY;
			testTop = parseInt($("#year").css("top"));
			console.log(testTop);

		});
		$(".waistList").on("touchmove", function (e) {
			moveEndX = e.originalEvent.changedTouches[0].pageX;
			moveEndY = e.originalEvent.changedTouches[0].pageY;
			var moveX;
			var moveY;
			moveX = moveEndX - startX;
			moveY = moveEndY - startY;
			console.log(testTop + moveY);
			$("#year").css("top", testTop + moveY);
			// if ((testTop + moveY) > $(window).height() / 2) {
			// 	$("#year").css("top", $(window).height() / 2);
			// }
			// else if ((testTop + moveY) < $(window).height() / 2) {
			// 	$("#year").css("top", 4100 + "px");
			// }
			// else {
			// 	$("#year").css("top", testTop + moveY);
			// }

		});
		// $(".waistList").on("touchend", function (e) {
		// 	$("#line").css("left", (parseInt($("#line").css("left"))) + (parseInt($(window).width() / 2) - parseInt($("#line").css("left"))) % 10);
		// 	//alert($("#line").css("left"));
		// 	//alert((parseInt($(window).width()/2)-parseInt($("#line").css("left"))+minNum2)/100);
		// 	if (sex == 0) { //男性
		// 		if ((parseInt($(window).width() / 2) - parseInt($("#line").css("left")) + minNum2) / 100 > 160.9) {
		// 			(".num").html(160.9);
		// 			$(".waistList").unbind("touchstart", "touchmove", "touchend");
		// 		} else {
		// 			$(".num").html((parseInt($(window).width() / 2) - parseInt($("#line").css("left")) + minNum2) / 100);
		// 		}
		// 	} else if (sex == 1) {
		// 		if ((parseInt($(window).width() / 2) - parseInt($("#line").css("left")) + minNum2) / 100 > 183.9) {
		// 			(".num").html(183.9);
		// 			$(".waistList").unbind("touchstart", "touchmove", "touchend");
		// 		} else {
		// 			$(".num").html((parseInt($(window).width() / 2) - parseInt($("#line").css("left")) + minNum2) / 100);
		// 		}
		// 	}
		// 	/*if((parseInt($(window).width()/2)-parseInt($("#line").css("left"))+minNum2)/100 > 160.9){
		// 		(".num").html(160.9);
		// 		$(".waistList").unbind("touchstart", "touchmove", "touchend");
		// 	}else{
		// 		$(".num").html((parseInt($(window).width()/2)-parseInt($("#line").css("left"))+minNum2)/100);
		// 	}*/
		// });
</script>
</html>