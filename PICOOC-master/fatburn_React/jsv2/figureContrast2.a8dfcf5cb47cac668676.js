webpackJsonp([8],{10:function(e,t,a){"use strict";var i=a(0),s=a(6),r=i.createClass({displayName:"Public_bigImg",render:function(){var e=this.props.bigImgArr,t=[],a=[];console.log(publicData.objImg);for(var r=0;r<e.length;r++)t.push(i.createElement("div",{className:"col-xs-12 col-sm-12 swiper-slide bigImg-li",key:r,"data-index":r,style:{backgroundImage:"url("+e[r].url+")"},onTouchStart:s.imgTouchStart.bind(this),onTouchMove:s.imgTouchMove.bind(this),onTouchEnd:s.imgTouchEnd.bind(this)}));if(e.length>1)for(var r=0;r<e.length;r++)a.push(i.createElement("span",{className:"swiper-pagination-bullet",key:r}));return i.createElement("div",{className:"row"},i.createElement("aside",{className:"row swiper-container swiper-container-bigImg bigImg"},i.createElement("div",{className:"row swiper-wrapper bigImg-main"},t),i.createElement("div",{className:"swiper-pagination swiper-pagination-bigImg swiper-pagination-report"},a)),i.createElement("div",{className:"saveImg-ceng",onTouchStart:s.saveImgCengTouchStart},i.createElement("aside",{className:"row saveImg"},i.createElement("div",{className:"col-xs-12 col-sm-12 saveImg-btn saveImg-item",onTouchStart:s.saveImgBtnTouchStart},"保存图片"),i.createElement("div",{className:"col-xs-12 col-sm-12 cancelImg-btn saveImg-item",onTouchStart:s.cancelImgBtnTouchStart},"取消"))))}});e.exports=r},213:function(e,t,a){"use strict";var i=a(0),s=a(1),r=a(3),c=a(2),n=a(10),o=a(6),l=["http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/photo-front-w.png","http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/photo-front-m.png"],m=["http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/photo-side-w.png","http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/photo-side-m.png"],g={objImg:{LeftBigIMG1:[],LeftBigIMG2:[],RightBigIMG1:[],RightBigIMG2:[]}};window.publicData=g;var p=getParamByUrl("campId"),u=getParamByUrl("roleId"),d={SCategory_SWoDeShenCaiDuiBi:5061100,SWoDeShenCaiDuiBi_TiaoZhuanWoDeXiangCe:5061101,SWoDeShenCaiDuiBi_TiaoZhuanShangChuanZhaoPian:5061102,SWoDeShenCaiDuiBi_TuPianYuLan:5061103},h=i.createClass({displayName:"PhoneBody",getInitialState:function(){return{day1:"",datetime1:"",firstweight:"",firstfat:"",firstwaist:"",day2:"",datetime2:"",lastweight:"",lastfat:"",lastwaist:""}},componentWillMount:function(){var e=ajaxLink+"/v1/api/campCommon/compareTOPicture"+window.location.search+"&campId="+p+"&roleId="+u;this.serverRequest=$.get(e,function(e){if(200==e.code){if(console.log(e),0==e.resp.sex)var t=l[0],a=m[0];else var t=l[1],a=m[1];""!=e.resp&&(e.resp.campPictureLast&&(""!=e.resp.campPictureLast.weight&&null!=e.resp.campPictureLast.weight||(e.resp.campPictureLast.weight="--"),""!=e.resp.campPictureLast.fat&&null!=e.resp.campPictureLast.fat||(e.resp.campPictureLast.fat="--"),""!=e.resp.campPictureLast.waistMeasure&&null!=e.resp.campPictureLast.waistMeasure||(e.resp.campPictureLast.waistMeasure="--"),""!=e.resp.campPictureLast.frontPicture&&null!=e.resp.campPictureLast.frontPicture||(e.resp.campPictureLast.frontPicture=t),""!=e.resp.campPictureLast.facePicture&&null!=e.resp.campPictureLast.facePicture||(e.resp.campPictureLast.facePicture=a),this.setState({day1:e.resp.campPictureLast.day,datetime1:e.resp.campPictureLast.time,firstweight:e.resp.campPictureLast.weight,firstfat:e.resp.campPictureLast.fat,firstwaist:e.resp.campPictureLast.waistMeasure}),g.objImg.LeftBigIMG1.push({url:e.resp.campPictureLast.frontPicture}),g.objImg.LeftBigIMG2.push({url:e.resp.campPictureLast.facePicture}),console.log(e.resp.campPictureLast),$(".partLeft-img-li1").css("background-image","url("+e.resp.campPictureLast.frontPicture+"@500h_500w_1e)"),$(".partLeft-img-li2").css("background-image","url("+e.resp.campPictureLast.facePicture+"@500h_500w_1e)")),e.resp.campPictureFirst&&(""!=e.resp.campPictureFirst.weight&&null!=e.resp.campPictureFirst.weight||(e.resp.campPictureFirst.weight="--"),""!=e.resp.campPictureFirst.fat&&null!=e.resp.campPictureFirst.fat||(e.resp.campPictureFirst.fat="--"),""!=e.resp.campPictureFirst.waistMeasure&&null!=e.resp.campPictureFirst.waistMeasure||(e.resp.campPictureFirst.waistMeasure="--"),""!=e.resp.campPictureFirst.frontPicture&&null!=e.resp.campPictureFirst.frontPicture||(e.resp.campPictureFirst.frontPicture=t),""!=e.resp.campPictureFirst.facePicture&&null!=e.resp.campPictureFirst.facePicture||(e.resp.campPictureFirst.facePicture=a),this.setState({day2:e.resp.campPictureFirst.day,datetime2:e.resp.campPictureFirst.time,lastweight:e.resp.campPictureFirst.weight,lastfat:e.resp.campPictureFirst.fat,lastwaist:e.resp.campPictureFirst.waistMeasure}),g.objImg.RightBigIMG1.push({url:e.resp.campPictureFirst.frontPicture}),g.objImg.RightBigIMG2.push({url:e.resp.campPictureFirst.facePicture}),$(".partRight-img-li3").css("background-image","url("+e.resp.campPictureFirst.frontPicture+")"),$(".partRight-img-li4").css("background-image","url("+e.resp.campPictureFirst.facePicture+")"),$(".changeContent").css("width",182*window.innerWidth/750),$(".changeContent").css("top",$(".partRight-img-li3").height()-$(".changeContent").height()/2-8),$(".changeContent").css("left",$(".partRight-img-li3").width()-$(".changeContent").width()/2),$(".container").height()<$(window).height()&&$(".container").css("height",$(window).height())))}else $(".error-main-t").html(e.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}.bind(this))},componentWillUnmount:function(){this.serverRequest.abort()},componentDidMount:function(){$(".part-img-li").css("height",500*$(".part-img-li").width()/376),$(".bodyChange").css("height",$(".partLeft").height())},render:function(){var e=this.state.day1,t=this.state.datetime1,a=this.state.firstweight,s=this.state.firstfat,r=this.state.firstwaist,c=this.state.day2,n=this.state.datetime2,l=this.state.lastweight,m=this.state.lastfat,g=this.state.lastwaist;return i.createElement("aside",{className:"bodyChange",ref:"bodyChange"},i.createElement("aside",{className:"row col-xs-6 col-sm-6 partLeft",ref:"partLeft"},i.createElement("div",{className:"col-xs-12 col-sm-12 part-img-li partLeft-img-li1",objimg:"img2",ref:"part_img_li",onClick:o.bindBigImg,"data-obj_img":"LeftBigIMG1"},i.createElement("div",{className:"date-content"},i.createElement("div",{className:"day"},"DAY",i.createElement("span",{id:"day1"},e)),i.createElement("div",{className:"datetime",id:"datetime1"},t))),i.createElement("div",{className:"col-xs-12 col-sm-12 part-img-li partLeft-img-li2",objimg:"img2",onClick:o.bindBigImg,"data-obj_img":"LeftBigIMG2"})),i.createElement("aside",{className:"row col-xs-6 col-sm-6 partRight"},i.createElement("div",{className:"col-xs-12 col-sm-12 part-img-li partRight-img-li3",objimg:"img2",onClick:o.bindBigImg,"data-obj_img":"RightBigIMG1"},i.createElement("div",{className:"date-content"},i.createElement("div",{className:"day"},"DAY",i.createElement("span",{id:"day2"},c)),i.createElement("div",{className:"datetime",id:"datetime2"},n))),i.createElement("div",{className:"col-xs-12 col-sm-12 part-img-li partRight-img-li4",objimg:"img2",onClick:o.bindBigImg,"data-obj_img":"RightBigIMG2"})),i.createElement("div",{className:"changeContent"},i.createElement("div",{className:"weightKg"},"体重[KG]"),i.createElement("div",null,i.createElement("span",{className:"span-left",id:"firstweight"},a),"|",i.createElement("span",{className:"span-right",id:"lastweight"},l)),i.createElement("div",{className:"fattt"},"脂肪[%]"),i.createElement("div",null,i.createElement("span",{className:"span-left",id:"firstfat"},s),"|",i.createElement("span",{className:"span-right",id:"lastfat"},m)),i.createElement("div",{className:"waistCm"},"腰围[CM]"),i.createElement("div",null,i.createElement("span",{className:"span-left",id:"firstwaist"},r),"|",i.createElement("span",{className:"span-right",id:"lastwaist"},g))))}}),f=i.createClass({displayName:"PhoneContainer",getInitialState:function(){function e(){var e={link:absoluteUrl+"figureContrastShare.html"+window.location.search,animation:2};e=JSON.stringify(e),appFc.openWebview(e)}var t={title:"身材对比",color:"",opacity:"",backgroundColor:"",backgroundOpacity:""};t=JSON.stringify(t),appFc.controlTitle(t);var a=function(){var e="";e="android"==getParamByUrl("os")?"https://cdn2.picooc.com/web/res/event/chrome/android_share.png":"https://cdn2.picooc.com/web/res/event/chrome/ios_share.png";var t={iconType:0,rightStr:{str:"",color:"",opacity:"",id:"0"},rightIcon:[{type:"0",id:"2",functionName:"getControl",iconUrl:e,iconName:"分享",redDotType:"1",redDotShow:!1,redDotNum:"0",nativeType:"",content:""}]};return JSON.stringify(t)};return window.getPageInfo=a,appFc.controlRight(a()),window.getControl=e,{bigImgArr:[]}},componentDidMount:function(){c.subscribe("bigImgData",function(e,t){this.setState({bigImgArr:t})}.bind(this))},myPhoneClick:function(e){e.stopPropagation();var t=e.currentTarget;$(t).css("opacity","0.6"),setCookie("toPhoto",0,1),$(t).attr("href","photoAlbum.html"+window.location.search+"&campId="+p+"&roleId="+u),e.stopPropagation(),setMaiDian(d.SCategory_SWoDeShenCaiDuiBi,d.SWoDeShenCaiDuiBi_TiaoZhuanWoDeXiangCe)},upLoadClick:function(e){e.stopPropagation();var t=e.currentTarget;$(t).css("opacity","0.6"),setCookie("uploadurl",1,1),$(t).attr("href","figureContrast.html"+window.location.search+"&campId="+p+"&roleId="+u+"&uploadurl=1"),setMaiDian(d.SCategory_SWoDeShenCaiDuiBi,d.SWoDeShenCaiDuiBi_TiaoZhuanShangChuanZhaoPian)},render:function(){var e,t=this.state.bigImgArr;return e=""!=t?i.createElement(n,{bigImgArr:this.state.bigImgArr}):i.createElement("i",null),i.createElement("div",null,i.createElement("section",{className:"container"},i.createElement(h,null),i.createElement("div",{style:{clear:"both"}}),i.createElement("div",{className:"buttons"},i.createElement("a",{className:"button1",onClick:this.myPhoneClick},"我的相册"),i.createElement("a",{className:"button2",onClick:this.upLoadClick},"上传照片")),e),i.createElement(r,null),i.createElement("div",{className:"saveImg-ceng"},i.createElement("aside",{className:"row saveImg"},i.createElement("div",{className:"col-xs-12 col-sm-12 saveImg-btn saveImg-item",onClick:o.saveImgBtnTouchStart},"保存图片"),i.createElement("div",{className:"col-xs-12 col-sm-12 cancelImg-btn saveImg-item",onClick:o.cancelImgBtnTouchStart},"取消"))))}});s.render(i.createElement(f,null),document.getElementById("phoneBox"))},6:function(e,t,a){"use strict";function i(){if(w){w=!1;var e={display:!0};e=JSON.stringify(e),appFc.showTitle(e);appFc.showBackBtn(function(){var e={controlBtn:!1,function:""};return JSON.stringify(e)}());var t=setTimeout(function(){$("body").css("overflow","auto"),$("body").removeAttr("style"),$(".bigImg").css("display","none"),"block"==$(".page1").css("display")&&$(".setcard-img").css("display","block"),$(".saveImg-ceng").css("display","none"),document.addEventListener("touchmove",function(e){"hidden"==$("body").css("overflow")&&e.preventDefault()}),clearTimeout(r),clearTimeout(t),console.log(s);try{s.slideTo(0,1e3,!1),s.destroy(!0),console.log("mySwiper摧毁")}catch(t){var e=[];u.publish("bigImgData",e),console.log("mySwiper错误")}w=!0},200)}event.stopPropagation()}var s,r,c,n,o,l,m,g,p,u=a(2),d={},h=$(window).width(),f=$(window).height(),w=!0;window.commentDisplayBtn=!1,d.bindBigImg=function(e){if("block"==$(".comment2").css("display")||commentDisplayBtn)$("#comment-msg").blur(),commentDisplayBtn=!1;else{o=!0;var t=e.currentTarget.getAttribute("data-obj_img"),a=e.currentTarget.getAttribute("data-obj_img_index"),i=publicData.objImg[t];u.publish("bigImgData",i),"block"==$(".page1").css("display")&&$(".setcard-img").css("display","none"),$(".comment").css("display","none"),$("#comment-msg").blur(),$(".getImg-bg").css("height",$(".getImg-bg").width()),$(".bigImg-li").css("width",h),"android"==getParamByUrl("os")?$(".bigImg-li").css("height",f+70):$(".bigImg-li").css("height",f+64);var c={display:!1};c=JSON.stringify(c),appFc.showTitle(c);appFc.showBackBtn(function(){var e={controlBtn:!0,function:"closeBigImg"};return JSON.stringify(e)}()),r=setTimeout(function(){$("body").css("max-height",$(window).height()),$("body").css("overflow","hidden"),$(".swiper-container").css("width",$(window).width()),$(".swiper-wrapper").css("width",$(window).width()),$(".bigImg-li").css("width",$(window).width()),$(".bigImg").css("display","block"),document.addEventListener("touchmove",function(e){"hidden"==$("body").css("overflow")&&e.preventDefault()}),1==publicData.objImg[t].length?(s=new Swiper(".swiper-container-bigImg",{}),console.log(s)):(s=new Swiper(".swiper-container-bigImg",{pagination:".swiper-pagination-bigImg",spaceBetween:1,centeredSlides:!0,initialSlide:a}),console.log(s))},200)}},d.imgTouchStart=function(e){console.log(e),clearTimeout(n),n="",l=e.changedTouches[0].pageX,m=e.changedTouches[0].pageY;e.currentTarget.getAttribute("data-index");console.log(e.currentTarget.getAttribute("data-index")),c=$(e.currentTarget).css("background-image").split("(")[1].split(")")[0],console.log(c),console.log($(".bigImg").css("display")),console.log("setTimeout1"),n=setTimeout(function(){"block"==$(".bigImg").css("display")&&(console.log("setTimeout2"),$(".saveImg-ceng").css("height",$(window).height()),$(".saveImg-ceng").css("display","block"),o=!1),clearTimeout(n)},800),e.preventDefault()},d.imgTouchMove=function(e){if("block"==$(".saveImg-ceng").css("display"))clearTimeout(n),o=!1;else{g=e.changedTouches[0].pageX,p=e.changedTouches[0].pageY;var t,a;t=g-l,a=p-m,console.log(t+"|"+a),(t<-50||t>50||a<-50||a>50)&&(clearTimeout(n),o=!1)}e.preventDefault()},d.imgTouchEnd=function(e){g=e.changedTouches[0].pageX,p=e.changedTouches[0].pageY;var t,a;t=g-l,a=p-m,(t<-20||t>20||a<-20||a>20)&&(console.log("clearTimeout执行"),clearTimeout(n),o=!1),clearTimeout(n),console.log("timeBtn:"+o),console.log(n),o&&i(),o=!0,e.preventDefault()},d.saveImgBtnTouchStart=function(){event.stopPropagation(),event.preventDefault();isMobile();appFc.saveImg(function(){var e={url:c};return JSON.stringify(e)}()),$(".saveImg-ceng").css("display","none")},d.cancelImgBtnTouchStart=function(){event.stopPropagation(),event.preventDefault(),$(".saveImg-ceng").css("display","none")},d.saveImgCengTouchStart=function(){$(".saveImg-ceng").css("display","none"),event.stopPropagation(),event.preventDefault()},e.exports=d}},[213]);