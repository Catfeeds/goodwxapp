webpackJsonp([19],{232:function(e,t,a){"use strict";var r=a(0),n=a(2),s=a(3),i={SCategory_SPaiHangBang:5061400,SPaiHangBang_TiaoZhuanGeRenZhuYe:5061401,SPaiHangBang_FenXiangPaiHangBang:5061402},c=r.createClass({displayName:"RankListContainer",getInitialState:function(){this.getRankListFc();var e={title:"有品燃脂营减脂排名",color:"",opacity:"",backgroundColor:"",backgroundOpacity:""};return e=JSON.stringify(e),appFc.controlTitle(e),{RankData:{}}},render:function(){var e=this,t=[],a=e.state.RankData,n="",s="",i="",c="",o=(getParamByUrl("roleId"),getParamByUrl("campId"));if(void 0!=a.resp&&a.resp.stuList.length>0){i=a.resp.stuList,n=a.resp.day;s="false"!=getParamByUrl("targetCampId")?a.resp.campName:"第"+a.resp.week+"周减脂排名",e.appShare(a.resp.roleName)}if(void 0!==e.state.RankData.resp)for(var l=a.resp.stuList.length,m=[],p=[],g=0;g<l;g++){if(g<3){var d="userRank"+(g+1);m=r.createElement("span",{className:d,key:g},g+1);var u="";u=0==g?"http://cdn2.picooc.com/web/res/fatburn/image/rankList/jin.png":1==g?"http://cdn2.picooc.com/web/res/fatburn/image/rankList/yin.png":"http://cdn2.picooc.com/web/res/fatburn/image/rankList/tong.png",p=r.createElement("img",{className:"rankIcon",src:u,key:g+3})}else m=[],p=[];c="studentOtherInfo.html"+window.location.search+"&targetRoleId="+i[g].roleId+"&targetCampId="+o,c=roleId==i[g].roleId?"studentStudentInfo.html"+window.location.search+"&targetRoleId="+i[g].roleId+"&targetCampId="+o:"studentOtherInfo.html"+window.location.search+"&targetRoleId="+i[g].roleId+"&targetCampId="+o,t.push(r.createElement("div",{className:"row rankItem",key:g,"data-index":g,onClick:this.getNewWebWiew.bind(this,c)},r.createElement("div",{className:"rankLeft col-xs-6 col-sm-6"},r.createElement("img",{className:"userHeader",src:a.resp.stuList[g].url,onError:imgError.bind(this,a.resp.stuList[g].sex)}),r.createElement("span",{className:"userName"},a.resp.stuList[g].name),p,r.createElement("img",{className:"userSex",src:0==a.resp.stuList[g].sex?"http://cdn2.picooc.com/web/res/fatburn/image/rankList/girl.png":"http://cdn2.picooc.com/web/res/fatburn/image/rankList/boy.png"}),m),r.createElement("div",{className:"rankRight col-xs-6 col-sm-6"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-xs-6 col-sm-6"},r.createElement("div",null,"脂肪"),r.createElement("div",{style:"+"==a.resp.stuList[g].fatChange.substring(0,1)?{color:"#fb5562"}:{}},r.createElement("span",{className:"fatNum"},a.resp.stuList[g].fatChange),"%")),r.createElement("div",{className:"col-xs-6 col-sm-6"},r.createElement("div",null,"体重"),r.createElement("div",{style:"+"==a.resp.stuList[g].weightChange.substring(0,1)?{color:"#fb5562"}:{}},r.createElement("span",{className:"fatNum"},a.resp.stuList[g].weightChange),"KG"))))))}return r.createElement("div",{className:"container"},r.createElement("div",{className:"row rankTitle"},r.createElement("div",null,r.createElement("img",{src:"http://cdn2.picooc.com/web/res/fatburn/image/rankList/start.png"}),r.createElement("span",{className:"title"},s),r.createElement("img",{src:"http://cdn2.picooc.com/web/res/fatburn/image/rankList/start.png"})),r.createElement("div",{className:"rankTime"},"更新时间: ",n)),r.createElement("div",{className:"row rankList"},t))},getRankListFc:function(){var e=this,t=(getParamByUrl("roleId"),getParamByUrl("campId"),window.location.protocol+"//"+window.location.host),a=t+"/v1/api/campCommon/campRankList"+window.location.search;$.ajax({type:"get",url:a,dataType:"json",success:function(t){200==t.code?(void 0!==e.state.RankData.resp&&e.state.RankData.resp.stuList.length>0&&(t.resp.stuList=e.state.RankData.resp.stuList.concat(t.resp.stuList)),e.setState({RankData:t})):($(".error-main-t").html("服务器开小差了～"),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2))}})},getNewWebWiew:function(e){setMaiDian(i.SCategory_SPaiHangBang,i.SPaiHangBang_TiaoZhuanGeRenZhuYe),e=absoluteUrl+e;"isApp"==isMobile()&&"tanchao"!=getParamByUrl("testtype")?appFc.openWebview(function(){var t={link:e,animation:1};return JSON.stringify(t)}()):window.location.href=e},appShare:function(e){var t="",a=["https://cdn2.picooc.com/web/res/event/chrome/android_share.png","https://cdn2.picooc.com/web/res/event/chrome/ios_share.png"];t="android"==getParamByUrl("os")?a[0]:a[1];appFc.controlRight(function(){var a={iconType:0,rightStr:{str:"",color:"",opacity:"",id:"0"},rightIcon:[{type:"1",id:"1",functionName:"",iconUrl:t,iconName:"分享",redDotType:"1",redDotShow:!1,redDotNum:"0",nativeType:"0",content:{shareTitle:"有品·燃脂营",shareUrl:"",shareIcon:"",shareDesc:"#有品燃脂营，随时减脂有效塑形#@有品PICOOC",shareTag:"",shareType:1,shareBackgroundColor:"#eeeff3",shareTypeDesc:"有品燃脂营 · 减脂排名",fatBurnName:e}}]};return JSON.stringify(a)}())}}),o=r.createClass({displayName:"Component",render:function(){return r.createElement("div",null,r.createElement(c,null),r.createElement(s,null))}});n.render(r.createElement(o,null),document.getElementById("main"))}},[232]);