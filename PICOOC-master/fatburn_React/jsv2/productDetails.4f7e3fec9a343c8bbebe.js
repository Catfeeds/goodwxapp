webpackJsonp([5],{122:function(e,t,a){"use strict";var n,s=a(0),i=(a(1),s.createClass({displayName:"ProductDetails_alertBox",getInitialState:function(){return{leftTime:60,againGetCodeShow:!1}},componentDidMount:function(){var e=this;e.props.alertBox},render:function(){var e=this;return 200==e.props.alertBox.code&&console.log(e.props.alertBox,88e4),s.createElement("aside",{className:"alertBox"},s.createElement("div",{className:"alerts",style:{display:"none"}},"预约成功！我们将在下期开售前2",s.createElement("br",null),"小时内通知您～"),s.createElement("div",{className:"alerts",style:{display:"none"}},"设置成功！",s.createElement("br",null),"我们将会在开售前5分钟提醒您～"),s.createElement("div",{className:"alerts",style:{display:"none"}},"已拍完，但还有人未付款，待会",s.createElement("br",null),"儿再来看看吧～"),s.createElement("div",{className:"alerts oneLine",style:{display:"none"}},"手慢了，名额被抢光啦～"),s.createElement("div",{className:"alerts",style:{display:"none"}},"您在当前所选时间内已经参营啦，换个时间吧～"),s.createElement("div",{className:"alerts",style:{display:"none"}},"您在当前所选时段内已有订单啦，点击右上角[我的]处理后再来试试吧～"),s.createElement("div",{className:"alerts",style:{display:"none"}}),s.createElement("div",{className:"alerts2",style:{display:"none"}},s.createElement("div",{className:"bg cancelBg"}),s.createElement("div",{className:"row appOuter version"},s.createElement("p",{className:"text2"},"温馨提示：",s.createElement("br",null),"新版本支持APP内无登录无跳转支付；购买燃脂营后可立即查看班级入口哦！"),s.createElement("div",{className:"isUpdate"},s.createElement("div",{className:"col-xs-6 col-sm-6 cancel"},"暂不更新"),s.createElement("div",{className:"col-xs-6 col-sm-6 updata"},"立即升级")))),s.createElement("div",{className:"alerts2",style:{display:"none"}},s.createElement("div",{className:"bg"}),s.createElement("div",{className:"row appOuter version"},s.createElement("p",{className:"text2"},"同一个账号限购一次，您可在“我的—我的燃脂营—我的订单”中查看订单详情哦~"),s.createElement("div",{className:"know"},s.createElement("div",{className:"col-xs-12 col-sm-12 knowInner"},"我知道啦")))),s.createElement("div",{className:"alerts2",style:{display:"none"}},s.createElement("div",{className:"bg"}),s.createElement("div",{className:"row appOuter version"},s.createElement("p",{className:"text2"},"您不能购买哦，建议您注册或登录个人账号后为自己购买～"),s.createElement("div",{className:"forSelf"},s.createElement("div",{className:"col-xs-12 col-sm-12 forSelfInner"},"我知道啦")))),s.createElement("div",{className:"alerts2",style:{display:"none"}},s.createElement("div",{className:"bg cancelBg"}),s.createElement("div",{className:"row appOuter version"},s.createElement("p",{className:"text2"},"温馨提示：",s.createElement("br",null),"新版本支持APP内无登录无跳转支付；购买燃脂营后可立即查看班级入口哦！打开手机应用商店即可更新到最新版本~"),s.createElement("div",{className:"forSelf"},s.createElement("div",{className:"col-xs-12 col-sm-12 forSelfInner notGengXin"},"我知道了")))),s.createElement("div",{className:"alerts2",style:{display:"none"}},s.createElement("div",{className:"bg cancelBg"}),s.createElement("div",{className:"row appOuter version"},s.createElement("p",{className:"text2"},"温馨提示：",s.createElement("br",null),"更新一下下，客服妹纸会偷偷告诉您减脂塑形秘籍哦~"),s.createElement("div",{className:"isUpdate"},s.createElement("div",{className:"col-xs-6 col-sm-6 cancelNew"},"暂不更新"),s.createElement("div",{className:"col-xs-6 col-sm-6 updataNew"},"立即升级")))),s.createElement("div",{className:"alerts2",style:{display:"none"}},s.createElement("div",{className:"bg"}),s.createElement("div",{className:"row appOuter version"},s.createElement("p",{className:"text2"},"温馨提示：",s.createElement("br",null),"更新一下下，客服妹纸会偷偷告诉您减脂塑形秘籍哦！打开手机应用商店即可更新到最新版~"),s.createElement("div",{className:"forSelf"},s.createElement("div",{className:"col-xs-12 col-sm-12 forSelfInnerNew"},"我知道啦")))),s.createElement("div",{className:"alertsVerify",style:{display:e.props.verifyStatus}},s.createElement("div",{className:"bg"}),s.createElement("div",{className:"row verifyBox",style:{display:"none"}},s.createElement("img",{className:"closeImg",onClick:e.props.verifyFun,src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/close.png",alt:""}),s.createElement("div",{className:"title"},"请验证手机号码"),s.createElement("div",{className:"row col-xs-12 col-sm-12 infoInput"},s.createElement("div",{className:"col-xs-2 col-sm-2 logo"},s.createElement("img",{src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/verify.png"})),s.createElement("div",{className:"row col-xs-10 col-sm-10 sameHeight"},s.createElement("div",{className:"col-xs-12 col-sm-12 tiaoZheng"},s.createElement("input",{ref:"code",className:"ipt code",type:"text",placeholder:"4 位验证码"})))),s.createElement("div",{className:"col-xs-12 col-sm-12 verifyBtn verifyBtn1",onClick:e.goToVerify},"验证"),s.createElement("div",{className:"col-xs-12 col-sm-12 warning",style:{display:0==e.state.againGetCodeShow?"block":"none"}},"接收短信大约需要",s.createElement("span",{className:"nowLeftTime"},e.state.leftTime),"s"),s.createElement("div",{className:"col-xs-12 col-sm-12 warning",style:{display:0==e.state.againGetCodeShow?"none":"block"}},"收不到验证码？",s.createElement("span",{className:"againGetCode",onClick:e.liJiVerifyAgain},"重新获取"))),s.createElement("div",{className:"row verifyBox",style:{display:"block"}},s.createElement("img",{className:"closeImg",onClick:e.props.verifyFun,src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/close.png",alt:""}),s.createElement("div",{className:"title"},"请验证手机号码"),s.createElement("div",{className:"row col-xs-12 col-sm-12 infoInput"},s.createElement("div",{className:"col-xs-2 col-sm-2 logo"},s.createElement("img",{src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/phone.png"})),s.createElement("div",{className:"row col-xs-10 col-sm-10 sameHeight"},s.createElement("div",{className:"col-xs-12 col-sm-12 tiaoZheng"},s.createElement("input",{ref:"phoneNum",className:"ipt phone",type:"text",placeholder:"输入手机号"})))),s.createElement("div",{className:"col-xs-12 col-sm-12 verifyBtn verifyBtn2",onClick:e.liJiVerify},"立即验证"),s.createElement("div",{className:"col-xs-12 col-sm-12 warning",style:{visibility:"hidden"}},"**")),s.createElement("div",{id:"TCaptcha"})))},liJiVerify:function(){var e=this;e.props.alertBox;if(publicData.phoneNum=e.refs.phoneNum.value,""!=$.trim(e.refs.phoneNum.value)){/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(16[0-9]{1})|(17[0-9]{1})|(18[0-9]{1})|(19[0-9]{1}))+\d{8})$/.test(publicData.phoneNum)?$.ajax({type:"get",url:ajaxLink+"/v1/api/captcha/getTencentUrlForSms",dataType:"json",success:function(t){if(console.log(t),200==t.result.code){console.log("图形验证码",t),$("#graphJs").attr("src",t.resp.url);var a=setInterval(function(){if(void 0!=capInit){var t=function(t){if(0==t.ret){$("#TCaptcha").hide(),console.log("retJson",t),n=t.ticket,$(".alertsVerify .verifyBox").hide().eq(0).show();var a=59;publicData.verifyTimer=setInterval(function(){0==a&&(clearInterval(publicData.verifyTimer),e.setState({againGetCodeShow:!0})),e.setState({leftTime:a--})},1e3),$.ajax({type:"get",url:ajaxLink+"/v1/api/campSell/sendSmsValidateCode?phoneNo="+publicData.phoneNum+"&ticket="+n,dataType:"json",success:function(e){console.log(e)}})}else $("#TCaptcha").hide()};clearInterval(a);var s={callback:t,showHeader:!0};capInit(document.getElementById("TCaptcha"),s),$("#TCaptcha").css({display:"block",overflow:"hidden",position:"fixed",top:"0",left:"0",zIndex:"1000",width:$(window).width(),height:$(window).height()}),$("#TCaptcha, #TCaptcha iframe").css("overflow","hidden")}},100)}}}):$(".alertBox .alerts").eq(6).html("手机号填写有误，请重新核对哦~").stop(!0).fadeIn(200).delay(2e3).fadeOut(200)}},liJiVerifyAgain:function(){var e=this;e.props.alertBox;/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(16[0-9]{1})|(17[0-9]{1})|(18[0-9]{1})|(19[0-9]{1}))+\d{8})$/.test(publicData.phoneNum)?$.ajax({type:"get",url:ajaxLink+"/v1/api/captcha/getTencentUrlForSms",dataType:"json",success:function(t){if(console.log(t),200==t.result.code){console.log("图形验证码",t),$("#graphJs").attr("src",t.resp.url);var a=setInterval(function(){if(void 0!=capInit){var t=function(t){if(0==t.ret){$("#TCaptcha").hide(),console.log("retJson",t),n=t.ticket,$(".alertsVerify .verifyBox").hide().eq(0).show(),e.setState({leftTime:60,againGetCodeShow:!1});var a=59;publicData.verifyAgainTimer=setInterval(function(){0==a&&(clearInterval(publicData.verifyAgainTimer),e.setState({againGetCodeShow:!0})),e.setState({leftTime:a--})},1e3),$.ajax({type:"get",url:ajaxLink+"/v1/api/campSell/sendSmsValidateCode?phoneNo="+publicData.phoneNum+"&ticket="+n,dataType:"json",success:function(e){console.log(e)}})}else $("#TCaptcha").hide()};clearInterval(a);var s={callback:t,showHeader:!0};capInit(document.getElementById("TCaptcha"),s),$("#TCaptcha").css({display:"block",overflow:"hidden",position:"fixed",top:"0",left:"0",zIndex:"1000",width:$(window).width(),height:$(window).height()}),$("#TCaptcha, #TCaptcha iframe").css("overflow","hidden")}},100)}}}):$(".alertBox .alerts").eq(6).html("手机号填写有误，请重新核对哦~").stop(!0).fadeIn(200).delay(2e3).fadeOut(200)},goToVerify:function(){var e=this,t=e.props.alertBox;""!=$.trim(e.refs.code.value)&&$.ajax({type:"get",url:ajaxLink+"/v1/api/campSell/verifyCode?phoneNo="+publicData.phoneNum+"&code="+e.refs.code.value,success:function(e){console.log(e),200==e.code?($(".alertsVerify").hide(),publicData.outAppLogin=!0,setCookie("appOutPhone",publicData.phoneNum,7),"formMyself"==getCookie("clickSource")?(delCookie("clickSource"),window.location.href="myInfo.html"+window.location.search+"&phoneNo="+publicData.phoneNum):"formGoToBuy"==getCookie("clickSource")&&(delCookie("clickSource"),window.location.href="confirmOrderOut.html"+window.location.search+"&classId="+publicData.classId+"&phoneNo="+publicData.phoneNum+"&isOwnPicooc="+publicData.is_balance),$("html, body").css("overflow","auto").off("touchmove")):(publicData.outAppLogin=!1,$(".alertBox .alerts").eq(6).html("验证码输入错误").stop(!0).fadeIn(200).delay(2e3).fadeOut(200))},error:function(){$(".error-main-t").html(t.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}})}}));e.exports=i},123:function(e,t,a){"use strict";var n,s=a(0),i=a(1),o=s.createClass({displayName:"ProductDetails_banner",getInitialState:function(){return{initState:0,nowType:"",bannerArr:[]}},componentWillMount:function(){for(var e=this,t=e.props.banner,a=0,n=0;n<t.resp.info.length;n++)if(t.resp.info[n].hasStock){a=n;break}var s=t.resp.info[a].inPicture,i=s.split(",");e.setState({nowType:a,bannerArr:i})},componentDidMount:function(){var e=this,t=e.props.banner;console.log("11111111111",e),n=new Swiper(".swiper-container",{direction:"horizontal",autoplay:2e3,autoplayDisableOnInteraction:!1,pagination:".swiper-pagination"});var a=$(".swiper-container .swiper-pagination .swiper-pagination-bullet");a.css("height",parseInt(a.height())+"px"),a.css("width",parseInt(a.width())+"px"),a.css("borderRadius",parseInt(a.css("borderRadius"))+"px"),i.subscribe("chooseType",function(a,n){var s=t.resp.info[n].inPicture,i=s.split(",");e.setState({nowType:n,bannerArr:i}),console.log("zqqqqqqqqqqq",$(e.refs.bannerBox))})},componentWillUpdate:function(){var e=this;console.log(11,$(e.refs.bannerBox)),$(".swiper-pagination").empty(),n.destroy(!0,!0)},componentDidUpdate:function(){n=new Swiper(".swiper-container",{direction:"horizontal",autoplay:2e3,autoplayDisableOnInteraction:!1,pagination:".swiper-pagination"});var e=$(".swiper-container .swiper-pagination .swiper-pagination-bullet");e.css("height",parseInt(e.height())+"px"),e.css("width",parseInt(e.width())+"px"),e.css("borderRadius",parseInt(e.css("borderRadius"))+"px")},render:function(){var e=this;if(200==e.props.banner.code){var t=e.state.bannerArr;console.log(888,t);var a=(e.state.nowType,[]);t.map(function(e,n){a.push(s.createElement("div",{className:"col-xs-12 col-sm-12 swiper-slide",key:n},s.createElement("a",{href:"javascript:void(0);"},s.createElement("img",{src:t[n]}))))}),console.log("b:",a);var n=s.createElement("aside",{className:"row swiper-container"},s.createElement("div",{className:"swiper-wrapper"},a),s.createElement("div",{className:"swiper-pagination"}))}return console.log("a:",n),s.createElement("div",{ref:"bannerBox"},n)}});e.exports=o},124:function(e,t,a){"use strict";var n=a(0),s=a(1),i=n.createClass({displayName:"ProductDetails_chooseFatburn",getInitialState:function(){return{nowType:"",inDesc:"",userEvaluation:""}},componentWillMount:function(){for(var e=this,t=e.props.chooseFatburn,a=0,n=0;n<t.resp.info.length;n++)if(t.resp.info[n].hasStock){a=n;break}var s=t.resp.info[a].userEvaluation.split(","),i=t.resp.info[a].inDesc;e.setState({nowType:a,userEvaluation:s,inDesc:i})},componentDidMount:function(){var e=this,t=e.props.chooseFatburn;s.subscribe("chooseType",function(a,n){var s=t.resp.info[n].inDesc,i=t.resp.info[n].userEvaluation.split(",");e.setState({inDesc:s,userEvaluation:i})})},render:function(){var e=this,t=e.props.chooseFatburn,a="";if(200==t.code){var s=e.state.inDesc,i=e.state.userEvaluation,o=[];i&&i.map(function(e,t){o.push(n.createElement("img",{key:t,className:"commentDetail",src:i[t]}))}),a=n.createElement("div",null,n.createElement("aside",{className:"choose detailOrComment detailOrComment1",ref:"detailBox"},n.createElement("div",{id:"expandDetails",dangerouslySetInnerHTML:{__html:s}})),n.createElement("aside",{className:"comments detailOrComment",style:{display:"none"},ref:"commentBox"},o))}return n.createElement("div",null,a)}});e.exports=i},125:function(e,t,a){"use strict";var n=a(0),s=(a(2),a(1)),i=n.createClass({displayName:"ProductDetails_productDesc",getInitialState:function(){return this.productDesc(),{hasChoose:0,nowType:"",nowTypeTitle:"",nowClass:"",nowClassName:"",month:"",day:""}},componentWillMount:function(){for(var e=this,t=e.props.productDesc,a=0,n=0;n<t.resp.info.length;n++)if(t.resp.info[n].hasStock){a=n;break}var s=t.resp.info[a];console.log("info1",s);for(var i=s.classes,o=0,n=0;n<i.length;n++)if(0==i[n].sellOut){o=n;break}if(e.setState({nowType:a,nowTypeTitle:s.gradeName,nowClass:o,nowClassName:i[o].className}),"number"==typeof o){var l=i[o].beginTime.split("-");e.setState({hasChoose:1,month:l[0],day:l[1]})}},componentDidMount:function(){var e=this,t=e.props.productDesc;s.subscribe("chooseType",function(a,n){var s=t.resp.info[n];console.log("info1",s);for(var i,o=s.classes,l=0;l<o.length;l++)if(0==o[l].sellOut){i=l;break}if(e.setState({nowType:n,nowTypeTitle:s.gradeName,nowClass:i,nowClassName:o[i].className}),"number"==typeof i){var r=o[i].beginTime.split("-");e.setState({hasChoose:1,month:r[0],day:r[1]})}}),s.subscribe("chooseClass",function(a,n){var s=t.resp.info[e.state.nowType];console.log("info1",s);var i=s.classes,o=i[n].beginTime.split("-");e.setState({nowTypeTitle:s.gradeName,nowClass:n,nowClassName:i[n].className,hasChoose:1,month:o[0],day:o[1]})})},render:function(){var e=this,t=e.props.productDesc,a="";if(console.log("eeee",e),200==t.code){var s=e.state.nowTypeTitle,i=e.state.hasChoose,o=(e.state.nowClass,e.state.nowClassName),l=e.state.month,r=e.state.day,c="";0==i?c="请选择 班级类型":1==i&&(c=n.createElement("p",null,"已选：",n.createElement("span",null,o),"  ",n.createElement("span",null,l,"月",r,"日"))),a=n.createElement("aside",{className:"row desc"},n.createElement("article",{className:"row desc1"},n.createElement("div",{className:"col-xs-12 col-sm-12 content"},n.createElement("h3",null,s))),n.createElement("article",{className:"row tabSelected",onClick:e.tabSelected},n.createElement("div",{className:"col-xs-10 col-sm-10",ref:"left"},c),n.createElement("div",{className:"col-xs-2 col-sm-2 more",ref:"right"},n.createElement("img",{src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/more.png"}))),n.createElement("article",{className:"row tabToggle"},n.createElement("div",{className:"col-xs-6 col-sm-6 leftTab tabActive aboutTab",onClick:e.tabLeftFunction,ref:"left"},n.createElement("span",null,"商品详情")),n.createElement("div",{className:"col-xs-6 col-sm-6 rightTab aboutTab",onClick:e.tabRightFunction,ref:"right"},"商品评价")))}return n.createElement("div",null,a)},productDesc:function(){},tabLeftFunction:function(e){var t=this;setMaiDian(SShangPinXiangQing.SCategory_SShangPinXiangQing,SShangPinXiangQing.SShangPinXiangQing_ShangPinXiangQing),$(t.refs.left).addClass("tabActive"),$(t.refs.right).removeClass("tabActive"),$(".detailOrComment").hide().eq(0).show()},tabRightFunction:function(){var e=this;setMaiDian(SShangPinXiangQing.SCategory_SShangPinXiangQing,SShangPinXiangQing.SShangPinXiangQing_ShangPinPingJia),$(e.refs.right).addClass("tabActive"),$(e.refs.left).removeClass("tabActive"),$(".detailOrComment").hide().eq(1).show()},tabSelected:function(){$(".boxSale .bg, .sale .detailInfo").show(),$("html, body").css("overflow","hidden").on("touchmove",function(e){if(e=e||event,!e.preventDefault)return!1;e.preventDefault()})}});e.exports=i},126:function(e,t,a){"use strict";var n,s=a(0),i=(a(2),a(1)),o=navigator.userAgent,l=s.createClass({displayName:"ProductDetails_productState",getInitialState:function(){return{nowType:"",nowClass:"",originPrice:"",curentPrice:"",especialPrice:"",stock:"",sellOut:"",limited:"",limitedEndtime:"",day:"",hour:"",minute:"",second:""}},componentWillMount:function(){var e=this,t=e.props.productState;n=t.resp.nowDate,("iOS"==getParamByUrl("os")||o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))&&(n=n.replace(/-/g,"/")),n=parseInt(new Date(n)/1e3),setInterval(function(){n++},1e3);for(var a=0,s=0;s<t.resp.info.length;s++)if(t.resp.info[s].hasStock){a=s;break}var i=t.resp.info[a];console.log("info1",i.classes);for(var l=i.classes,r=0,s=0;s<l.length;s++)if(0==l[s].sellOut){r=s;break}e.setState({nowType:a,nowClass:r,originPrice:l[r].originPrice,curentPrice:l[r].curentPrice,especialPrice:l[r].especialPrice,stock:l[r].stock,sellOut:l[r].sellOut,limited:l[r].limited,limitedEndtime:l[r].limitedEndtime})},componentDidMount:function(){var e=this,t=e.props.productState;if(console.log("me",e),1==e.state.limited){var a=e.state.limitedEndtime;("iOS"==getParamByUrl("os")||o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))&&(a=a.replace(/-/g,"/"));var s=new Date(a);console.log(n),s=parseInt(s/1e3)-n,console.log("intDiff="+s);var l,r,c;l=setInterval(function(){if(console.log(111),s>0){var t=Math.floor(s/86400),a=Math.floor(s/3600)-24*t,n=Math.floor(s/60)-24*t*60-60*a,i=Math.floor(s)-24*t*60*60-60*a*60-60*n;t=(t<10?"0":"")+t,a=(a<10?"0":"")+a,n=(n<10?"0":"")+n,i=(i<10?"0":"")+i,e.setState({day:t,hour:a,minute:n,second:i}),s--}else 0==s&&(window.location.reload(),clearInterval(l))},1e3)}e.sectionValue=i.subscribe("chooseType",function(a,s){clearInterval(l),clearInterval(r),clearInterval(c),console.log("me.state.day="+e.state.day);for(var i=t.resp.info[s],m=i.classes,d=0,p=0;p<m.length;p++)if(0==m[p].sellOut){d=p;break}if(e.setState({nowType:s,nowClass:d,originPrice:m[d].originPrice,curentPrice:m[d].curentPrice,especialPrice:m[d].especialPrice,stock:m[d].stock,sellOut:m[d].sellOut,limited:m[d].limited,limitedEndtime:m[d].limitedEndtime}),1==e.state.limited){var h=e.state.limitedEndtime;("iOS"==getParamByUrl("os")||o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))&&(h=h.replace(/-/g,"/"));var u=new Date(h);u=parseInt(u/1e3)-n,console.log(u),r=setInterval(function(){if(console.log("section="+s),u>0){var t=Math.floor(u/86400),a=Math.floor(u/3600)-24*t,n=Math.floor(u/60)-24*t*60-60*a,i=Math.floor(u)-24*t*60*60-60*a*60-60*n;t=(t<10?"0":"")+t,a=(a<10?"0":"")+a,n=(n<10?"0":"")+n,i=(i<10?"0":"")+i,e.setState({day:t,hour:a,minute:n,second:i}),u--}else 0==u&&(window.location.reload(),clearInterval(r))},1e3)}}),i.subscribe("chooseClass",function(a,s){clearInterval(l),clearInterval(r),clearInterval(c),console.log("me.state.day="+e.state.day);for(var i=t.resp.info[e.state.nowType],m=i.classes,d=0;d<m.length;d++)if(0==m[d].sellOut){d;break}if(e.setState({nowClass:s,originPrice:m[s].originPrice,curentPrice:m[s].curentPrice,especialPrice:m[s].especialPrice,stock:m[s].stock,sellOut:m[s].sellOut,limited:m[s].limited,limitedEndtime:m[s].limitedEndtime}),1==e.state.limited){var p=e.state.limitedEndtime;("iOS"==getParamByUrl("os")||o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))&&(p=p.replace(/-/g,"/"));var h=new Date(p);h=parseInt(h/1e3)-n,console.log(h),c=setInterval(function(){if(console.log("section="+s),h>0){var t=Math.floor(h/86400),a=Math.floor(h/3600)-24*t,n=Math.floor(h/60)-24*t*60-60*a,i=Math.floor(h)-24*t*60*60-60*a*60-60*n;t=(t<10?"0":"")+t,a=(a<10?"0":"")+a,n=(n<10?"0":"")+n,i=(i<10?"0":"")+i,e.setState({day:t,hour:a,minute:n,second:i}),h--}else 0==h&&(window.location.reload(),clearInterval(c))},1e3)}}),i.subscribe("noStock",function(t){e.setState({stock:0})}),i.subscribe("sellOut",function(t){e.setState({sellOut:!0})})},componentWillUpdate:function(){var e=this;e.props.productState},render:function(){var e=this,t=e.props.productState,a="";if(200==t.code){var n=(e.state.nowClass,e.state.originPrice),i=e.state.curentPrice,o=e.state.especialPrice,l=e.state.stock,r=e.state.sellOut,c=e.state.limited,m=e.state.day,d=e.state.hour,p=e.state.minute,h=e.state.second;console.log("me.state.nowType="+e.state.nowType),console.log("me.state.nowClass="+e.state.nowClass),a=s.createElement("aside",{className:"row info"},s.createElement("div",{className:"info1",style:{display:0==c?"block":"none"}},s.createElement("div",{className:"col-xs-12 col-sm-12 infoLeft"},s.createElement("span",{className:"new-priceBox"},"¥",s.createElement("span",{className:"new-price"},1==c?o:i)),s.createElement("span",{className:"old-priceBox",style:{display:1==c?n==o?"none":"inline-block":n==i?"none":"inline-block"}},s.createElement("del",null,"原价"),s.createElement("del",{className:"old-price"},e.state.originPrice),s.createElement("del",null,"元"))),s.createElement("div",{className:"col-xs-12 col-sm-12 infoRight"},s.createElement("div",{className:"times status status3",style:{display:0==r?"block":"none"}},s.createElement("p",null,"剩余:",s.createElement("span",{className:"num"},l),"席")),s.createElement("div",{className:"times status2",style:{display:1==r?"block":"none"}},s.createElement("p",null,"抢光了～")))),s.createElement("div",{className:"info2",style:{display:1==e.state.limited?"block":"none"}},s.createElement("div",{className:"value"},s.createElement("span",{className:"valueLogo"},"¥")," ",s.createElement("span",{className:"valueNum"},1==c?o:i)),s.createElement("div",{className:"teJia"},s.createElement("span",{className:"priceNew"},"限时特价"),s.createElement("br",null),s.createElement("del",{className:"priceOld"},s.createElement("del",null,"原价"),s.createElement("del",{className:"num"},n),s.createElement("del",null,"元"))),s.createElement("div",{className:"leftTime"},s.createElement("p",{className:"space"},s.createElement("span",{className:""},"距结束还剩")),s.createElement("p",{className:"space"},s.createElement("span",{style:{display:parseInt(e.state.day)>0?"inline-block":"none"}},s.createElement("span",{className:"num"},m),"天"),s.createElement("span",{className:"num"},d),"时",s.createElement("span",{className:"num"},p),"分",s.createElement("span",{className:"num"},h),"秒"))))}return s.createElement("div",null,a)}});e.exports=l},127:function(e,t,a){"use strict";var n=a(0),s=a(1),i=!0,o=1==getParamByUrl("innerToOut")?1:0,l=n.createClass({displayName:"ProductDetails_saleState",getInitialState:function(){return{info:"",nowType:"",gradeName:"",info1ClassesArr:"",nowClass:"",nowClassName:"",originPrice:"",curentPrice:"",especialPrice:"",stock:"",sellOut:"",limited:"",headPicture:""}},componentWillMount:function(){for(var e=this,t=e.props.saleState,a=0,n=0;n<t.resp.info.length;n++)if(t.resp.info[n].hasStock){a=n;break}for(var s=t.resp.info[a],i=t.resp.info[a].inPicture.split(",")[0],o=s.classes,l=0,n=0;n<o.length;n++)if(0==o[n].sellOut){l=n;break}e.setState({nowType:a,info:t.resp.info,gradeName:t.resp.info[a].gradeName,info1ClassesArr:o,nowClass:l,nowClassName:o[l].className,originPrice:o[l].originPrice,curentPrice:o[l].curentPrice,especialPrice:o[l].especialPrice,stock:o[l].stock,sellOut:o[l].sellOut,limited:o[l].limited,headPicture:i})},render:function(){var e=(isMobile(),this),t=e.props.saleState,a="";if(200==t.code){publicData.is_balance=o;var s=e.state.info;console.log("info",s);var i=e.state.nowType,l=(e.state.info1ClassesArr,e.state.nowClass),r=e.state.gradeName,c=(e.state.nowClassName,e.state.originPrice),m=e.state.curentPrice,d=e.state.especialPrice,p=e.state.stock,h=e.state.sellOut,u=e.state.limited,g=e.state.headPicture;console.log("is_balance="+o),publicData.classId=s[i].classes[l].classId;var f,v=[],y=[];s.map(function(t,a){var i,o="chooseText";i=1==u?a==e.state.nowType?o+" checkedLimit":o:a==e.state.nowType?o+" checked":o;0==s[a].hasStock&&(i+=" noStock");for(var l=!1,r=0;r<s[a].classes.length;r++)1==s[a].classes[r].limited&&0==s[a].classes[r].sellOut&&(l=!0);v.push(n.createElement("span",{className:i,key:a,"data-index":a,onClick:1==t.hasStock?e.checkClass.bind(e,a):""},s[a].className,n.createElement("img",{className:"youHui",style:{display:1==s[a].hasLimit&&1==t.hasStock&&l?"block":"none"},src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/youHui.png",alt:""})))}),s[i].classes.map(function(t,a){var o,l="chooseText",r=!0;o=1==u?a==e.state.nowClass?l+" checkedLimit":l:a==e.state.nowClass?l+" checked":l,1==s[i].classes[a].sellOut&&(r=!1,o+=" noStock");var c=s[i].classes[a].beginTime.split("-");y.push(n.createElement("span",{className:o,key:a,"data-index":a,onClick:0==r?"":e.checkBeginTime.bind(e,a)},c[0],"月",c[1],"日",n.createElement("img",{className:"youHui",style:{display:1==s[i].classes[a].limited&&r?"block":"none"},src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/youHui.png",alt:""})))}),f=1==u?1==h?"state7":"state6":1==h?"state7":"state5";a=n.createElement("div",{className:"boxSale",style:{display:"block"}},n.createElement("div",{className:"bg",style:{display:"none"}}),n.createElement("aside",{className:"row sale"},n.createElement("div",{className:1==u?"col-xs-12 col-sm-12 detailInfo teJiabg":"col-xs-12 col-sm-12 detailInfo",style:{display:"none"}},n.createElement("img",{className:"close",onClick:e.closeDetailInfo,src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/close.png "}),n.createElement("aside",{className:"row good"},n.createElement("div",{className:"row col-xs-12 col-sm-12 aboutInfo"},n.createElement("div",{className:"col-xs-4 col-sm-4 infoImg"},n.createElement("img",{src:g})),n.createElement("div",{className:"col-xs-8 col-sm-8 infoDesc"},n.createElement("div",{className:"goodsName"},n.createElement("p",null,r)),n.createElement("p",{className:"price"},n.createElement("span",{className:1==u?"newPriceLimit":"newPrice"},"¥",1==u?d:m),n.createElement("span",{className:"oldPrice",style:{display:1==u?d==c?"none":"inline-block":m==c?"none":"inline-block"}},n.createElement("del",null,"¥"),n.createElement("del",null,c))),n.createElement("p",{className:1==u?"leftNumLimit":"leftNum"},"剩余：",p,"席"))),n.createElement("div",{className:"type row"},n.createElement("p",{className:"col-xs-12 col-sm-12 title"},"选择班级"),v),n.createElement("div",{className:"type row aboutBeginTime"},n.createElement("p",{className:"col-xs-12 col-sm-12 title"},"开营时间"),y),n.createElement("div",{className:"type row",style:{display:1==isOutApp()?"block":"none"}},n.createElement("p",{className:"col-xs-12 col-sm-12 title"},"是否有秤"),n.createElement("span",{className:1==h?"chooseText noStock":1==u?"chooseText checkedLimit":"chooseText checked",ref:"noWeight",onClick:1==h?"":e.noWeight},"无秤",n.createElement("img",{className:"youHui",style:{display:1==u&&0==h?"block":"none"},src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/youHui.png"})),n.createElement("span",{className:1==h?"chooseText noStock":"chooseText",ref:"haveWeight",onClick:1==h?"":e.haveWeight},"有秤",n.createElement("img",{className:"youHui",style:{display:"none"},src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/youHui.png"}))),n.createElement("div",{className:"type row",style:{display:1==getParamByUrl("innerToOut")?"block":"none"}},n.createElement("p",{className:"col-xs-12 col-sm-12 title"},"是否有秤"),n.createElement("span",{className:1==h?"chooseText noStock":1==u?"chooseText checkedLimit":"chooseText checked",ref:"haveWeightInner",onClick:1==h?"":e.haveWeightInner},"有秤",n.createElement("img",{className:"youHui",style:{display:1==u&&0==h?"block":"none"},src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/youHui.png"})),n.createElement("span",{className:1==h?"chooseText noStock":"chooseText",ref:"noWeightInner",onClick:1==h?"":e.noWeightInner},"无秤",n.createElement("img",{className:"youHui",style:{display:"none"},src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/youHui.png"}))))),n.createElement("div",{className:"col-xs-3 col-sm-3 service",style:{display:"block"},onClick:1==isOutApp()||1==getParamByUrl("innerToOut")?e.outAppService:e.props.serviceFunction},n.createElement("img",{src:1==u?"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/redNoMsg.png":"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/greenNoMsg.png"}),n.createElement("img",{src:1==u?"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/redHasMsg.png":"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/greenHasMsg.png",style:{display:"none"}})),n.createElement("a",{href:"javascript:void(0);"},n.createElement("div",{className:"col-xs-9 col-sm-9 state"},n.createElement("span",{className:f,onClick:1==h?"":e.immediatelyBuy,ref:"buyBtn"},"立即购买")))))}return n.createElement("div",null,a)},closeDetailInfo:function(){$(".boxSale .bg, .sale .detailInfo").hide(),$("html, body").css("overflow","auto").off("touchmove")},checkClass:function(e){i=!0;var t=this;o=1==getParamByUrl("innerToOut")?1:0,$(t.refs.haveWeight).removeClass("checkedLimit"),$(t.refs.haveWeight).removeClass("checked"),$(t.refs.noWeightInner).removeClass("checkedLimit"),$(t.refs.noWeightInner).removeClass("checked"),console.log("is_balance",o),publicData.is_balance=o,t.setState({nowType:e}),s.publish("chooseType",e);for(var a=t.props.saleState,n=a.resp.info[e],l=a.resp.info[e].inPicture.split(",")[0],r=n.classes,c=0,m=0;m<r.length;m++)if(0==r[m].sellOut){c=m;break}t.setState({info:a.resp.info,gradeName:a.resp.info[e].gradeName,info1ClassesArr:r,nowClass:c,nowClassName:r[c].className,originPrice:r[c].originPrice,curentPrice:r[c].curentPrice,especialPrice:r[c].especialPrice,stock:r[c].stock,sellOut:r[c].sellOut,limited:r[c].limited,headPicture:l}),$(t.refs.haveWeight).children("img").hide(),$(t.refs.noWeightInner).children("img").hide(),1==r[c].limited?($(t.refs.noWeight).addClass("checkedLimit"),$(t.refs.noWeight).children("img").show(),$(t.refs.haveWeightInner).addClass("checkedLimit"),$(t.refs.haveWeightInner).children("img").show()):($(t.refs.noWeight).addClass("checked"),$(t.refs.noWeight).children("img").hide(),$(t.refs.haveWeightInner).addClass("checked"),$(t.refs.haveWeightInner).children("img").hide())},checkBeginTime:function(e){i=!0;var t=this;o=1==getParamByUrl("innerToOut")?1:0,$(t.refs.noWeightInner).removeClass("checkedLimit"),$(t.refs.noWeightInner).removeClass("checked"),console.log("is_balance",o),publicData.is_balance=o,t.setState({nowClass:e}),s.publish("chooseClass",e);for(var a=t.props.saleState,n=a.resp.info[t.state.nowType],l=a.resp.info[t.state.nowType].inPicture.split(",")[0],r=n.classes,c=0;c<r.length;c++)if(0==r[c].sellOut){c;break}t.setState({info:a.resp.info,gradeName:a.resp.info[t.state.nowType].gradeName,info1ClassesArr:r,nowClass:e,nowClassName:r[e].className,originPrice:r[e].originPrice,curentPrice:r[e].curentPrice,especialPrice:r[e].especialPrice,stock:r[e].stock,sellOut:r[e].sellOut,limited:r[e].limited,headPicture:l}),$(t.refs.haveWeight).removeClass("checkedLimit"),$(t.refs.haveWeight).removeClass("checked"),$(t.refs.haveWeight).children("img").hide(),$(t.refs.noWeightInner).children("img").hide(),1==r[e].limited?($(t.refs.noWeight).addClass("checkedLimit"),$(t.refs.noWeight).children("img").show(),$(t.refs.haveWeightInner).addClass("checkedLimit"),$(t.refs.haveWeightInner).children("img").show()):($(t.refs.noWeight).addClass("checked"),$(t.refs.noWeight).children("img").hide(),$(t.refs.haveWeightInner).addClass("checked"),$(t.refs.haveWeightInner).children("img").hide())},noWeight:function(){var e=this;1==e.state.limited?($(e.refs.noWeight).addClass("checkedLimit"),$(e.refs.noWeight).children("img").show(),$(e.refs.haveWeight).removeClass("checkedLimit"),$(e.refs.haveWeight).children("img").hide()):($(e.refs.noWeight).addClass("checked"),$(e.refs.haveWeight).removeClass("checked"),$(e.refs.haveWeight).children("img").hide(),$(e.refs.noWeight).children("img").hide()),o=0,publicData.is_balance=o},haveWeight:function(){var e=this;1==e.state.limited?($(e.refs.haveWeight).addClass("checkedLimit"),$(e.refs.noWeight).removeClass("checkedLimit"),$(e.refs.haveWeight).children("img").show(),$(e.refs.noWeight).children("img").hide()):($(e.refs.haveWeight).addClass("checked"),$(e.refs.noWeight).removeClass("checked"),$(e.refs.haveWeight).children("img").hide(),$(e.refs.noWeight).children("img").hide()),o=1,publicData.is_balance=o},noWeightInner:function(){var e=this;1==e.state.limited?($(e.refs.noWeightInner).addClass("checkedLimit"),$(e.refs.noWeightInner).children("img").show(),$(e.refs.haveWeightInner).removeClass("checkedLimit"),$(e.refs.haveWeightInner).children("img").hide()):($(e.refs.noWeightInner).addClass("checked"),$(e.refs.haveWeightInner).removeClass("checked")),o=0,publicData.is_balance=o},haveWeightInner:function(){var e=this;1==e.state.limited?($(e.refs.haveWeightInner).addClass("checkedLimit"),$(e.refs.haveWeightInner).children("img").show(),$(e.refs.noWeightInner).removeClass("checkedLimit"),$(e.refs.noWeightInner).children("img").hide()):($(e.refs.haveWeightInner).addClass("checked"),$(e.refs.noWeightInner).removeClass("checked")),o=1,publicData.is_balance=o},immediatelyBuy:function(){if("isPC"==isMobile())$(".alertBox .alerts").eq(6).html("啊哦！暂时不支持电脑购买，请使用手机下单吧～").stop(!0).fadeIn(200).delay(2e3).fadeOut(200);else{var e=this,t=(e.props.saleState,e.state.info);console.log("info",t);e.state.nowType,e.state.info1ClassesArr,e.state.nowClass,e.state.gradeName,e.state.nowClassName,e.state.originPrice,e.state.curentPrice,e.state.especialPrice,e.state.stock,e.state.sellOut,e.state.limited,e.state.headPicture;if(1==i||0==i){i=!1,setMaiDian(SShangPinXiangQing.SCategory_SShangPinXiangQing,SShangPinXiangQing.SShangPinXiangQing_LiJiGouMai);var a=e.state.info[e.state.nowType].classes[e.state.nowClass].classId;if(1==isOutApp()||1==getParamByUrl("innerToOut")){try{window.localStorage.foobar="foobar"}catch(e){alert("请取消浏览器无痕浏览再购买哦~")}if(console.log("APP外购买"),0==publicData.outAppLogin)i=!0,s.publish("outAppPhone","block"),$(".alertsVerify .verifyBox").hide().eq(1).show(),$(".alertBox .alertsVerify .verifyBox .warning").hide().eq(0).show(),setCookie("clickSource","formGoToBuy",1),$("html, body").css("overflow","hidden").on("touchmove",function(e){if(e=e||event,!e.preventDefault)return!1;e.preventDefault()});else if(0==e.state.sellOut){var n=ajaxLink+"/v1/api/campSell/getClassStockOut"+window.location.search+"&classId="+a+"&phoneNo="+getCookie("appOutPhone");$.ajax({type:"get",url:n,dataType:"json",success:function(t){console.log(4,t),console.log("urlStock",n),200==t.result.code?(console.log("库存data.resp="+t.resp),1==t.resp?(e.setState({stock:0}),s.publish("noStock"),$(".alertBox .alerts").eq(2).stop(!0).fadeIn(200).delay(2e3).fadeOut(200)):2==t.resp?(e.setState({stock:0,sellOut:!0}),s.publish("noStock"),s.publish("sellOut"),$(".alertBox .alerts").eq(3).stop(!0).fadeIn(200).delay(2e3).fadeOut(200)):6==t.resp?($(".alertBox .alerts2").hide().eq(2).show(),$(".alerts2 .forSelfInner").unbind("click").click(function(){setMaiDian(SShangPinXiangQing.SCategory_SShangPinXiangQing,SShangPinXiangQing.SShangPinXiangQing_ZhuZhangHaoGouMai),$(".alertBox .alerts2").eq(2).hide()})):4==t.resp?(delCookie("chooseIndex"),window.location.href="confirmOrderOut.html"+window.location.search+"&classId="+a+"&phoneNo="+getCookie("appOutPhone")+"&isOwnPicooc="+o):5==t.resp?$(".alertBox .alerts").eq(5).stop(!0).fadeIn(200).delay(2e3).fadeOut(200):($(".alertBox .alerts2").hide().eq(2).show(),$(".alertBox .alerts2 .text2").html("温馨提示：该账号已有同时段开班的燃脂营哦~"),$(".alerts2 .forSelfInner").unbind("click").click(function(){$(".alertBox .alerts2").eq(2).hide(),window.location.href="confirmOrderOut.html"+window.location.search+"&classId="+a+"&phoneNo="+getCookie("appOutPhone")+"&isOwnPicooc="+o}))):($(".error-main-t").html(t.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2))},error:function(){$(".error-main-t").html("啊哦，您的网络不太给力~"),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}})}}else if(getParamByUrl("webver")>1){if(0==e.state.sellOut){var n=ajaxLink+"/v1/api/campSell/getClassStock"+window.location.search+"&classId="+a;$.ajax({type:"get",url:n,dataType:"json",success:function(t){if(console.log(4,t),200==t.result.code)if(console.log("data.resp="+t.resp),1==t.resp)e.setState({stock:0}),s.publish("noStock"),$(".alertBox .alerts").eq(2).stop(!0).fadeIn(200).delay(2e3).fadeOut(200);else if(2==t.resp)e.setState({stock:0,sellOut:!0}),s.publish("noStock"),s.publish("sellOut"),$(".alertBox .alerts").eq(3).stop(!0).fadeIn(200).delay(2e3).fadeOut(200);else if(3==t.resp||5==t.resp)$(".alertBox .alerts2").hide().eq(1).show(),$(".alerts2 .knowInner").unbind("click").click(function(){setMaiDian(SShangPinXiangQing.SCategory_SShangPinXiangQing,SShangPinXiangQing.SShangPinXiangQing_BuNengGouMaiDuoCi),$(".alertBox .alerts2").eq(1).hide()});else if(6==t.resp)$(".alertBox .alerts2").hide().eq(2).show(),$(".alerts2 .forSelfInner").unbind("click").click(function(){setMaiDian(SShangPinXiangQing.SCategory_SShangPinXiangQing,SShangPinXiangQing.SShangPinXiangQing_ZhuZhangHaoGouMai),$(".alertBox .alerts2").eq(2).hide()});else if(4==t.resp){delCookie("chooseIndex");var n=absoluteUrl+"confirmOrder.html"+window.location.search+"&classId="+a,i=isMobile();"isApp"==i?appFc.openWebview(function(){var e={link:n,animation:1};return JSON.stringify(e)}()):window.location.href=n}else 7==t.resp?$(".alertBox .alerts").eq(4).stop(!0).fadeIn(200).delay(2e3).fadeOut(200):8==t.resp&&$(".alertBox .alerts").eq(6).html("您在当前所选时段内已有订单啦，处理后再来试试吧~").stop(!0).fadeIn(200).delay(2e3).fadeOut(200);else $(".error-main-t").html(t.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)},error:function(){$(".error-main-t").html("啊哦，您的网络不太给力~"),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}})}}else"iOS"==getParamByUrl("os")?($(".alertBox .alerts2").hide().eq(0).show(),$(".alerts2 .isUpdate .cancel").unbind("click").click(function(){$(".alertBox .alerts2").hide()}),$(".alerts2 .isUpdate .updata").unbind("click").click(function(){setMaiDian(SShangPinXiangQing.SCategory_SShangPinXiangQing,SShangPinXiangQing.SShangPinXiangQing_ShengJiBanBen),window.location.href="https://itunes.apple.com/us/app/picooc/id729928969?mt=8"})):"android"==getParamByUrl("os")&&($(".alertBox .alerts2").hide().eq(3).show(),$(".alerts2 .notGengXin").unbind("click").click(function(){$(".alertBox .alerts2").hide()})),$(".alerts2 .cancelBg").unbind("click").click(function(){setMaiDian(SShangPinXiangQing.SCategory_SShangPinXiangQing,SShangPinXiangQing.SShangPinXiangQing_QuXiaoShengJiBanBen),$(".alertBox .alerts2").hide()})}}},outAppService:function(){window.location.href="https://kefu.easemob.com/webim/im.html?tenantId=26797"},warningBuy:function(){var e=this,t=e.props.saleState,a=e.state.info1ClassesArr,n=a[0].classId,s=window.location.protocol+"//"+window.location.host+window.location.pathname;s=s.slice(0,-5),console.log(s);var i=ajaxLink+"/v1/api/campSell/getAppointment"+window.location.search+"&classId="+n+"&url="+s;$.ajax({type:"get",url:i,dataType:"json",success:function(t){200==t.code?(console.log(t),$(e.refs.warningBtn).addClass("state9").html("已提醒")):($(".error-main-t").html(t.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2))},error:function(){$(".error-main-t").html(t.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}})}});e.exports=l},231:function(e,t,a){"use strict";var n=a(0),s=a(2),i=a(1),o=a(3),l=a(127),r=a(123),c=a(126),m=a(125),d=a(124),p=a(122),h={SCategory_SShangPinXiangQing:5080100,SShangPinXiangQing_YuYueXiaQi:5080101,SShangPinXiangQing_KaiShouTiXing:5080102,SShangPinXiangQing_LiJiGouMai:5080103,SShangPinXiangQing_ShengJiBanBen:5080104,SShangPinXiangQing_QuYouZanGouMai:5080105,SShangPinXiangQing_QuXiaoShengJiBanBen:5080106,SShangPinXiangQing_ShangPinXiangQing:5080107,SShangPinXiangQing_ShangPinPingJia:5080108,SShangPinXiangQing_KeFuXiTong:5080109,SShangPinXiangQing_BuNengGouMaiDuoCi:5080110,SShangPinXiangQing_ZhuZhangHaoGouMai:5080111};window.SShangPinXiangQing=h;$(".sale .service img").hide().eq(0).show();var u=(isMobile(),{stock:0,nowClass:"",outAppLogin:0!=getCookie("appOutPhone"),phoneNum:"",code:"",verifyTimer:"",verifyAgainTimer:""});window.publicData=u;var g=n.createClass({displayName:"ProductDetailsContainer",getInitialState:function(){return this.showGoodsStatus(),{verifyStatus:"none",hasOnLine:1,productDetailsData:{}}},componentWillMount:function(){},componentDidMount:function(){var e=this;i.subscribe("outAppPhone",function(t,a){e.setState({verifyStatus:a})})},render:function(){var e=this,t=e.state.productDetailsData;if(void 0!==e.state.productDetailsData.resp)if(0==isOutApp()){if(console.log(e),void 0!==e.state.productDetailsData.resp){if(getParamByUrl("webver")>2){var a={title:"有品燃脂营",color:"",opacity:"",backgroundColor:"",backgroundOpacity:""};if(a=JSON.stringify(a),appFc.controlTitle(a),0!=t.resp.info.length){var s="",i=["https://cdn2.picooc.com/web/res/event/chrome/android_share.png","https://cdn2.picooc.com/web/res/event/chrome/ios_share.png"];s="android"==getParamByUrl("os")?i[0]:i[1];var o=function(){var e={iconType:0,rightStr:{str:"",color:"",opacity:"",id:"0"},rightIcon:[{type:"1",id:"1",functionName:"",iconUrl:s,iconName:"分享",redDotType:"1",redDotShow:!1,redDotNum:"0",nativeType:"0",content:{shareTitle:t.resp.share.shareTitle,shareUrl:t.resp.share.link,shareIcon:t.resp.share.shareIcon,shareDesc:t.resp.share.shareDesc,shareTag:t.resp.share.shareTag,shareType:"0",shareBackgroundColor:"",shareTypeDesc:"",fatBurnName:""}}]};return JSON.stringify(e)};appFc.controlRight(o())}}else{var h=function(){if(getParamByUrl("webver")>1){if(0!=t.resp.info.length)var e={title:"有品燃脂营",backgroundColor:"#2c2f31",isShare:!0,shareTitle:t.resp.share.shareTitle,shareUrl:t.resp.share.link,shareIcon:t.resp.share.shareIcon,shareDesc:t.resp.share.shareDesc,shareTag:t.resp.share.shareTag}}else var e={title:"有品燃脂营",backgroundColor:"#2c2f31",isShare:!1};return JSON.stringify(e)},u=isMobile();"isApp"==u&&"undefined"!=typeof mobileApp&&mobileApp.getShareInfo(h()),document.documentElement.style.webkitUserSelect="none",document.documentElement.style.webkitTouchCallout="none"}if("isApp"==u&&getParamByUrl("webver")>2)if("1"==getCookie("saveCampFrom")){var h=function(){var e={iconType:0,iconColor:"",backNum:3,closeWebview:0,hidden:!1,isHandle:!1,functionName:""};return JSON.stringify(e)};appFc.controlLeft(h())}else if(3==parseInt(getParamByUrl("refer"))){appFc.controlLeft(function(){var e={iconType:1,iconColor:"",backNum:1,closeWebview:0,hidden:!1,isHandle:!1,functionName:""};return JSON.stringify(e)}())}else{appFc.controlLeft(function(){var e={iconType:0,iconColor:"",backNum:1,closeWebview:0,hidden:!1,isHandle:!1,functionName:""};return JSON.stringify(e)}())}else if(getParamByUrl("webver")>1&&"isApp"==u&&"undefined"!=typeof mobileApp&&2==getParamByUrl("webver"))if("1"==getCookie("saveCampFrom")){mobileApp.showLeftBtn(function(){var e={iconType:0,backNum:3,closeWebview:0,iconUrl:""};return JSON.stringify(e)}())}else{var o=function(){var e={iconType:0,backNum:1,closeWebview:0,iconUrl:""};return JSON.stringify(e)};mobileApp.showLeftBtn(o())}}}else{var g=function(){var e={title:t.resp.share.shareTitle,desc:t.resp.share.shareDesc,link:window.location.protocol+"//"+window.location.host+window.location.pathname+"?linkId="+getParamByUrl("linkId"),imgUrl:t.resp.share.shareIcon};wx.ready(function(){console.log(e),wx.onMenuShareTimeline(e),wx.onMenuShareAppMessage(e),wx.onMenuShareQQ(e),wx.onMenuShareWeibo(e)})};!function(){var e=window.location.protocol+"//"+window.location.host,t=e+"/getWxData",a=location.href.split("#")[0];$.ajax({type:"post",url:t,data:{reqUrl:a},dataType:"json",success:function(e){"success"==e.status&&(wx.config({debug:!1,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),g())}})}()}var f="";return console.log(t.code),f=200==t.code?0==e.state.hasOnLine?n.createElement("div",null,n.createElement("section",{className:"offLine"},n.createElement("p",{className:"offLineTip"},"啊喔~该商品已下架..."),n.createElement("div",{className:"offLineImg"},n.createElement("img",{src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/offLine.png"})),n.createElement("div",null,n.createElement("button",{className:"offLineBtn",onClick:e.offLineBtn},"查看最新燃脂营商品")))):n.createElement("div",null,n.createElement("section",{className:"container aboutSale"},n.createElement(l,{saleState:t,serviceFunction:e.serviceFunction}),n.createElement("div",{className:"row noAppTitle",style:{display:1==isOutApp()||1==isLowVersion()||1==getParamByUrl("innerToOut")?"block":"none"}},n.createElement("div",{className:"col-xs-4 col-sm-4 middle middle2"},n.createElement("img",{src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/logoLeft.png"})),n.createElement("div",{className:"col-xs-4 col-sm-4"}),n.createElement("div",{className:"col-xs-4 col-sm-4 right right2"},n.createElement("img",{onClick:this.alertsVerifyFun,src:"https://cdn2.picooc.com/web/res/fatburn/image/sell/productDetails/mine.png"}))),n.createElement(r,{banner:t}),n.createElement(c,{productState:t}),n.createElement(m,{productDesc:t}),n.createElement(d,{chooseFatburn:t}),n.createElement(p,{alertBox:t,verifyStatus:e.state.verifyStatus,verifyFun:this.verifyFun}))):n.createElement("i",null),n.createElement("div",null,f)},showGoodsStatus:function(){var e=this,t=ajaxLink+"/v1/api/campSell/findSellById"+window.location.search;$.ajax({type:"get",url:t,dataType:"json",success:function(t){if(200==t.result.code){if(console.log("商品详情页",t),0==t.resp.info.length&&e.setState({hasOnLine:0}),void 0!==e.state.productDetailsData.resp&&e.state.productDetailsData.resp.info.length>0&&(t.resp.info=e.state.productDetailsData.resp.info.concat(t.resp.info)),e.setState({productDetailsData:t}),"chaojie"==getParamByUrl("chaojie")&&$("#clearCookie").show().unbind("click").click(function(){delCookie("appOutPhone")}),$(".alertsVerify .verifyBox .phone").bind("input propertychange",function(){""!=$.trim($(this).val())?$(".alertsVerify .verifyBox .verifyBtn2").css("background","#00AFF0"):$(".alertsVerify .verifyBox .verifyBtn2").css("background","#999999")}),$(".alertsVerify .verifyBox .code").bind("input propertychange",function(){""!=$.trim($(this).val())?$(".alertsVerify .verifyBox .verifyBtn1").css("background","#00AFF0"):$(".alertsVerify .verifyBox .verifyBtn1").css("background","#999999")}),0==isOutApp()&&1!=getParamByUrl("innerToOut")){var a=isMobile();if("isApp"==a&&getParamByUrl("webver")>1){var n=function(){$(".sale .service img").hide().eq(1).show(),$(".sale .service2 img").hide().eq(1).show()};if("isApp"==a&&"undefined"!=typeof mobileApp&&2==getParamByUrl("webver")){var s={type:1,function:"showDot"};s=JSON.stringify(s),mobileApp.easeModChatDot(s)}else{var i={type:1,function:"showDot"};i=JSON.stringify(i),appFc.easeModChatDot(i)}window.showDot=n}}}else $(".error-main-t").html(t.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)},error:function(){$(".error-main-t").html(data.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}})},goToEaseModChat:function(){"isApp"==isMobile()&&(getParamByUrl("webver")>1?(2==getParamByUrl("webver")?mobileApp.goToEaseModChat():appFc.goToEaseModChat(),$(".sale .service img").hide().eq(0).show(),$(".sale .service2 img").hide().eq(0).show()):"iOS"==getParamByUrl("os")?($(".alertBox .alerts2").hide().eq(4).show(),$(".alerts2 .isUpdate .cancelNew").unbind("click").click(function(){setMaiDian(h.SCategory_SShangPinXiangQing,h.SShangPinXiangQing_QuXiaoShengJiBanBen),$(".alertBox .alerts2").hide()}),$(".alerts2 .isUpdate .updataNew").unbind("click").click(function(){setMaiDian(h.SCategory_SShangPinXiangQing,h.SShangPinXiangQing_ShengJiBanBen),window.location.href="https://itunes.apple.com/us/app/picooc/id729928969?mt=8"})):"android"==getParamByUrl("os")&&($(".alertBox .alerts2").hide().eq(5).show(),$(".alerts2 .forSelfInnerNew").unbind("click").click(function(){$(".alertBox .alerts2").hide()})))},serviceFunction:function(){var e=this;setMaiDian(h.SCategory_SShangPinXiangQing,h.SShangPinXiangQing_KeFuXiTong),e.goToEaseModChat()},alertsVerifyFun:function(){try{window.localStorage.foobar="foobar"}catch(e){alert("请取消浏览器无痕浏览再购买哦~")}0==u.outAppLogin?(i.publish("outAppPhone","block"),$(".alertsVerify .verifyBox").hide().eq(1).show(),$(".alertBox .alertsVerify .verifyBox .warning").hide().eq(0).show(),$("html, body").css("overflow","hidden").on("touchmove",function(e){if(e=e||event,!e.preventDefault)return!1;e.preventDefault()})):window.location.href=absoluteUrl+"myInfo.html"+window.location.search+"&phoneNo="+getCookie("appOutPhone")},verifyFun:function(){$("html, body").css("overflow","auto").off("touchmove"),clearInterval(u.verifyTimer),clearInterval(u.verifyAgainTimer),$(".alertBox .alertsVerify .verifyBox .warning .nowLeftTime").html(60),this.setState({verifyStatus:"none"})},offLineBtn:function(){var e=this,t=e.state.productDetailsData;removeParamByUrl("linkId");for(var a=window.location.search.substring(1),n=a.split("&"),s="?",i=0;i<n.length;i++){var o=n[i].split("=");"linkId"!=o[0]&&(s+="&"+o[0]+"="+o[1])}var l=t.resp.share.linkId;window.location.href="productDetails.html"+s+"&linkId="+l}}),f=n.createClass({displayName:"Component",render:function(){return n.createElement("div",null,n.createElement(g,null),n.createElement(o,null))}});s.render(n.createElement(f,null),document.getElementById("productDetailsBox"))}},[231]);