webpackJsonp([21],{233:function(e,a,n){"use strict";var t=n(0),o=n(1),c=n(3),i={SCategory_STianWenJuanLingQuan:5081100,STianWenJuanLingQuan_LiJiXuYing:5081101,STianWenJuanLingQuan_WoZhiDaoLe:5081102},s=getCookie("windowSearch"),l=t.createClass({displayName:"ReceiveCouponContainer",getInitialState:function(){var e=this;$("body").height($(window).height()),e.getCoupon();var a={title:"有品燃脂营",color:"",opacity:"",backgroundColor:"",backgroundOpacity:""};a=JSON.stringify(a),appFc.controlTitle(a);return appFc.controlLeft(function(){var e={iconType:1,iconColor:"",backNum:2,closeWebview:0,hidden:!1,isHandle:!1,functionName:""};return JSON.stringify(e)}()),{receiveCouponData:[]}},render:function(){var e=this,a=[],n="";if(void 0!=e.state.receiveCouponData.resp){var o=e.state.receiveCouponData.resp.success?"block":"none",c=e.state.receiveCouponData.resp.success?"none":"block";a=e.state.receiveCouponData,n=t.createElement("section",{className:"container"},t.createElement("aside",{className:"row receive receive1",style:{display:o}},t.createElement("div",{className:"col-xs-12 col-sm-12 status"},t.createElement("img",{src:"image/_receiveCoupon/true.png",alt:""})),t.createElement("div",{className:"col-xs-12 col-sm-12 status2"},"领取成功!"),t.createElement("div",{className:"col-xs-12 col-sm-12 content1",id:"rule"},"恭喜您获得续营优惠券及提前购买资格，点击下方“立即续营”"),t.createElement("div",{className:"row col-xs-12 col-sm-12 xuying"},t.createElement("div",{className:"col-xs-6 col-sm-6 continue",id:"name"},a.resp.coupon.name),t.createElement("div",{className:"col-xs-6 col-sm-6 value"},t.createElement("span",{className:"value1"},"¥")," ",t.createElement("span",{className:"value2",id:"value"},a.resp.coupon.value)),t.createElement("div",{className:"col-xs-12 col-sm-12 term"},"有效期：",t.createElement("span",{id:"beginTime"},a.resp.coupon.beginTime)," - ",t.createElement("span",{id:"endTime"},a.resp.coupon.endTime))),t.createElement("div",{className:"col-xs-12 col-sm-12 now saveCamp",onClick:e.saveCampFunction},"立即续营")),t.createElement("aside",{className:"row receive receive2",style:{display:c}},t.createElement("div",{className:"col-xs-12 col-sm-12 status"},t.createElement("img",{src:"image/_receiveCoupon/false.png"})),t.createElement("div",{className:"col-xs-12 col-sm-12 status2 statusFalse"},"领取失败!"),t.createElement("div",{className:"col-xs-12 col-sm-12 content2"},"已经领过本券了哦～"),t.createElement("div",{className:"col-xs-12 col-sm-12 girl"},t.createElement("img",{src:"image/_receiveCoupon/girl.png"})),t.createElement("div",{className:"col-xs-12 col-sm-12 now iknow",onClick:e.iknowFunction},"我知道了")))}return t.createElement("div",null,n)},getCoupon:function(){var e=this,a=ajaxLink+"/v1/api/campCoupon/getCoupon"+s;$.ajax({type:"get",url:a,dataType:"json",success:function(n){console.log(n),console.log(a),200==n.code?e.setState({receiveCouponData:n}):($(".error-main-t").html(n.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2))}})},iknowFunction:function(){setMaiDian(i.SCategory_STianWenJuanLingQuan,i.STianWenJuanLingQuan_WoZhiDaoLe);var e=function(){var e={backNum:2,closeWebview:0};return JSON.stringify(e)};appFc.deleteHistory(e)},saveCampFunction:function(){var e=this;setCookiePath("saveCampFrom","1",1,"/;domain=picooc.com"),setMaiDian(i.SCategory_STianWenJuanLingQuan,i.STianWenJuanLingQuan_LiJiXuYing);var a=e.state.receiveCouponData.resp.link,n="";a.indexOf("?")>=0&&(n="&"+a.split("?")[1],a=a.split("?")[0]),window.location.href=a+s+n}}),r=t.createClass({displayName:"Component",render:function(){return t.createElement("div",null,t.createElement(l,null),t.createElement(c,null))}});o.render(t.createElement(r,null),document.getElementById("receiveCouponBox"))}},[233]);