webpackJsonp([9],{10:function(e,t,a){"use strict";var i=a(0),n=a(6),s=i.createClass({displayName:"Public_bigImg",render:function(){var e=this.props.bigImgArr,t=[],a=[];console.log(publicData.objImg);for(var s=0;s<e.length;s++)t.push(i.createElement("div",{className:"col-xs-12 col-sm-12 swiper-slide bigImg-li",key:s,"data-index":s,style:{backgroundImage:"url("+e[s].url+")"},onTouchStart:n.imgTouchStart.bind(this),onTouchMove:n.imgTouchMove.bind(this),onTouchEnd:n.imgTouchEnd.bind(this)}));if(e.length>1)for(var s=0;s<e.length;s++)a.push(i.createElement("span",{className:"swiper-pagination-bullet",key:s}));return i.createElement("div",{className:"row"},i.createElement("aside",{className:"row swiper-container swiper-container-bigImg bigImg"},i.createElement("div",{className:"row swiper-wrapper bigImg-main"},t),i.createElement("div",{className:"swiper-pagination swiper-pagination-bigImg swiper-pagination-report"},a)),i.createElement("div",{className:"saveImg-ceng",onTouchStart:n.saveImgCengTouchStart},i.createElement("aside",{className:"row saveImg"},i.createElement("div",{className:"col-xs-12 col-sm-12 saveImg-btn saveImg-item",onTouchStart:n.saveImgBtnTouchStart},"保存图片"),i.createElement("div",{className:"col-xs-12 col-sm-12 cancelImg-btn saveImg-item",onTouchStart:n.cancelImgBtnTouchStart},"取消"))))}});e.exports=s},212:function(e,t,a){"use strict";function i(){var e=ajaxLink+"/v1/api/campCommon/campPictureCount"+window.location.search+"&campId="+b+"&roleId="+roleId;$.ajax({type:"get",url:e,dataType:"json",success:function(e){if(200==e.code){if(1==e.resp){if("android"==getParamByUrl("os")){var t=function(){var e={controlBtn:!1,function:""};return JSON.stringify(e)},a=isMobile();"isApp"==a&&appFc.showBackBtn(t())}window.location.href="photoAlbum.html"+window.location.search+"&campId="+b+"&roleId="+roleId}else if(e.resp>1){if("android"==getParamByUrl("os")){var t=function(){var e={controlBtn:!1,function:""};return JSON.stringify(e)},a=isMobile();"isApp"==a&&appFc.showBackBtn(t())}window.location.href="figureContrast2.html"+window.location.search+"&campId="+b+"&roleId="+roleId}w=!0}else w=!0,$(".error-main-t").html(e.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}})}function n(){var e=isMobile();if("isApp"==e&&appFc.controlLeft(function(){var e={iconType:1,iconColor:"",backNum:1,closeWebview:0,hidden:!1,isHandle:!1,functionName:""};return JSON.stringify(e)}()),"android"==getParamByUrl("os")){var e=isMobile();"isApp"==e&&appFc.showBackBtn(function(){var e={controlBtn:!1,function:""};return JSON.stringify(e)}())}}var s=a(0),o=a(2),r=a(3),c=a(1),l=a(10),m=a(6),d="",g="",h=0,p=0,u="",f=0,w=!0,v={SCategory_SShangChuanZhaoPian:5060800,SShangChuanZhaoPian_XuanZePaiZhaoRiQi:5060801,SShangChuanZhaoPian_ShangChuanZhengMianZhao:5060802,SShangChuanZhaoPian_ShangChuanCeMianZhao:5060803,SShangChuanZhaoPian_ChaKanShangChuanYaoQiu:5060804,SShangChuanZhaoPian_TianJiaTiZhi:5060805,SShangChuanZhaoPian_TianJiaYaoWei:5060806,SShangChuanZhaoPian_XuanZeTiZhi:5060807,SShangChuanZhaoPian_QuXiaoXuanZeTiZhi:5060808,SShangChuanZhaoPian_XuanZeYaoWei:5060809,SShangChuanZhaoPian_QuXiaoXuanZeYaoWei:5060810,SShangChuanZhaoPian_ShangChuan:5060811,SShangChuanZhaoPian_ShanChuZhaoPian:5060812,SShangChuanZhaoPian_XianShiYuLanTu:5060813,SShangChuanZhaoPian_QuXiaoXuanZeShiJian:5061014,SShangChuanZhaoPian_XuanZeShiJian:5061015},b=getParamByUrl("campId"),S={campId:b,roleId:roleId,frontPicture:"",facePicture:"",weight:"",fat:"",waistMeasure:"",day:"",time:""},y={objImg:{frontIMG:[],asideIMG:[]}};window.publicData=y,window.loadImg=S;var I=s.createClass({displayName:"FatWeigthSelect",getInitialState:function(){return{weightDate:"",HTMLweight:{}}},componentDidMount:function(){c.subscribe("HTMLweight",function(e,t){this.setState({HTMLweight:t})}.bind(this))},CancelClick:function(e){o.findDOMNode(this.refs.backscroll_weight).style.display="none",n(),setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_QuXiaoXuanZeTiZhi)},SureClick:function(e){e.stopPropagation(),e.stopPropagation(),o.findDOMNode(this.refs.backscroll_weight).style.display="none",d=$(".backscroll-weight .swiper-wrapper .swiper-slide").eq(f).find(".selectweight-weight").html(),g=$(".backscroll-weight .swiper-wrapper .swiper-slide").eq(f).find(".selectweight-fat").html();var t={weight:"："+d+"KG/",fat:g+"%"};c.publish("HTMLweight",t);document.querySelector("#weightdata .clear");document.querySelector("#weightdata .clear").style.display="block",n(),setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_XuanZeTiZhi)},OptionHandleClick:function(e){e.stopPropagation();var t=e.currentTarget;$(t).siblings().find(".selectImg").attr("src","https://cdn2.picooc.com/web/res/fatburn/image/figureContrast/nopick.png"),$(t).find(".selectImg").attr("src","https://cdn2.picooc.com/web/res/fatburn/image/figureContrast/pick.png"),f=$(".backscroll-weight .swiper-wrapper .swiper-slide").index(t)},render:function(){for(var e=this.props.data_fat,t=[],a=0;a<e.length;a++)t.push(s.createElement("div",{className:"swiper-slide ",key:a,onClick:this.OptionHandleClick,ref:"weight_date"},s.createElement("span",{className:"col-xs-5 col-sm-5 selectweight-date"},e[a].time),s.createElement("div",{className:"col-xs-3 col-sm-3",style:{display:"inlineBlock"}},s.createElement("span",{className:"selectweight-fat"},e[a].bodyFat),s.createElement("span",null,"%")),s.createElement("div",{className:"col-xs-3 col-sm-3",style:{display:"inlineBlock"}},s.createElement("span",{className:"selectweight-weight"},e[a].weight),s.createElement("span",null,"KG")),s.createElement("img",{className:"selectImg",src:"https://cdn2.picooc.com/web/res/fatburn/image/figureContrast/nopick.png"})));return s.createElement("div",{className:"backscroll-weight",ref:"backscroll_weight"},s.createElement("div",{className:"select-container"},s.createElement("div",{className:"select-title"},s.createElement("div",{className:"select-cancel",onClick:this.CancelClick}),s.createElement("div",{className:"select-head"},"选择数据"),s.createElement("div",{className:"select-sure",onClick:this.SureClick})),s.createElement("div",{className:"col-xs-12 col-sm-12 line-1px"}),s.createElement("div",{className:"select-content swiper-container"},s.createElement("div",{className:"swiper-wrapper"},t))))}}),C=s.createClass({displayName:"ImgUpLoadArea",getInitialState:function(){return{uploadtype:"",isshowbtn1:0,isshowbtn2:0,isLoadImgFro:0,isLoadImgAsi:0}},getImg:function(e){this.state.isLoadImgAsi,this.state.isLoadImgFro;if(0==this.state.uploadtype){$("#front").removeClass("front-default");for(var t=0;t<e.length;t++)$("#front").css("background-image","url("+e[t]+")"),S.frontPicture=e[t];y.objImg.frontIMG.push({url:$("#front").css("background-image").replace("url(","").replace(")","")}),$(".delete1").show(),$(".upload").css("background-color","#7fa9ff"),this.setState({isLoadImgFro:1}),h=1}else if(1==this.state.uploadtype){$("#side").removeClass("side-default");for(var t=0;t<e.length;t++)$("#side").css("background-image","url("+e[t]+")"),S.facePicture=e[t];y.objImg.asideIMG.push({url:$("#side").css("background-image").replace("url(","").replace(")","")}),this.setState({isLoadImgAsi:1}),p=1,$(".delete2").show(),$(".upload").css("background-color","#7fa9ff")}},AddfrontImgHandleClick:function(e){if(e.stopPropagation(),this.state.uploadtype=0,"tanchao"==getParamByUrl("testtype"))this.getImg(["http://cdn2.picooc.com/web/res/event/bottle/image/msg-2.png","http://cdn2.picooc.com/web/res/event/bottle/image/bg1.jpg"]);else var t=setTimeout(function(){if("isApp"==isMobile()){var e={maxNum:1,imageType:"bodyImg"};e=JSON.stringify(e),appFc.uploadImg(e)}clearTimeout(t)},250);setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_ShangChuanZhengMianZhao)},AddsideImgHandleClick:function(e){if(e.preventDefault(),e.stopPropagation(),this.state.uploadtype=1,"tanchao"==getParamByUrl("testtype"))this.getImg(["http://cdn2.picooc.com/web/res/event/bottle/image/msg-2.png","http://cdn2.picooc.com/web/res/event/bottle/image/bg1.jpg"]);else var t=setTimeout(function(){if("isApp"==isMobile()){var e={maxNum:1,imageType:"bodyImg"};e=JSON.stringify(e),appFc.uploadImg(e)}clearTimeout(t)},250);setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_ShangChuanCeMianZhao)},DelFrontHandleClick:function(e){e.preventDefault(),e.stopPropagation(),$("#front").removeClass("getImg-bg"),y.objImg.frontIMG=[],$("#front").css("background-image","url(http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/front.png)"),$("#front").addClass("front-default"),o.findDOMNode(this.refs.frontImg).style.display="none",this.setState({isLoadImgFro:0}),h=0,0==p&&$(".upload").css("background-color","#bbbbbb"),setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_ShanChuZhaoPian)},DelAsideHandleClick:function(e){e.preventDefault(),e.stopPropagation(),$("#side").removeClass("getImg-bg"),y.objImg.asideIMG=[],$("#side").css("background-image","url(http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/side.png)"),$("#side").addClass("side-default"),o.findDOMNode(this.refs.asideImg).style.display="none",this.setState({isLoadImgAsi:0}),p=0,0==h&&$(".upload").css("background-color","#bbbbbb"),setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_ShanChuZhaoPian)},componentDidMount:function(){var e=o.findDOMNode(this.refs.front),t=o.findDOMNode(this.refs.side);e.style.height=408*e.offsetWidth/306+"px",t.style.height=408*t.offsetWidth/306+"px"},render:function(){window.getImg=this.getImg;var e,t,a=this.state.isLoadImgFro,i=this.state.isLoadImgAsi;return e=0==a?s.createElement("div",{id:"front",ref:"front",className:"uploadImg-img front front-default",onClick:this.AddfrontImgHandleClick,"data-obj_img":"frontIMG"},s.createElement("div",{className:"delete1",ref:"frontImg"})):s.createElement("div",{id:"front",ref:"front",className:"uploadImg-img front front-default",onClick:m.bindBigImg,"data-obj_img":"frontIMG"},s.createElement("div",{className:"delete1",ref:"frontImg",onClick:this.DelFrontHandleClick})),t=0==i?s.createElement("div",{id:"side",ref:"side",className:"uploadImg-img side side-default",onClick:this.AddsideImgHandleClick,"data-obj_img":"asideIMG"},s.createElement("div",{className:"delete2",ref:"asideImg"})):s.createElement("div",{id:"side",ref:"side",className:"uploadImg-img side side-default",onClick:m.bindBigImg,"data-obj_img":"asideIMG"},s.createElement("div",{className:"delete2",onClick:this.DelAsideHandleClick,ref:"asideImg"})),s.createElement("aside",{className:"uploadImg"},e,t)}}),k=s.createClass({displayName:"UploadQuestion",CancelClick:function(e){n(),e.stopPropagation(),o.findDOMNode(this.refs.prompt_back).style.display="none"},render:function(){var e={height:document.body.scrollHeight},t={width:document.body.scrollWidth-50};return s.createElement("aside",{className:"row prompt-back",style:e,ref:"prompt_back",onClick:this.HideClick},s.createElement("div",{className:"col-xs-12 col-sm-12 prompt-main",style:t},s.createElement("div",{className:"row"},s.createElement("span",{className:"title"},"拍摄及上传要求"),s.createElement("img",{className:"del",src:"image/figureContrast/no.png",onClick:this.CancelClick})),s.createElement("div",{className:"prompt-pic col-xs-12 col-sm-12"},s.createElement("div",{className:"prompt-pic-left col-xs-6 col-sm-6"}),s.createElement("div",{className:"prompt-pic-right col-xs-6 col-sm-6"})),s.createElement("div",{className:"col-xs-12 col-sm-12"},s.createElement("div",{className:"col-xs-6 col-sm-6 example"},"正面照示例"),s.createElement("div",{className:"col-xs-6 col-sm-6 example"},"侧面照示例")),s.createElement("div",{className:"col-xs-12 col-sm-12 content"},s.createElement("p",null,"• 拍摄角度：正、侧面照片各一张，角度清晰，露出肩臂、腰腹、双腿；"),s.createElement("p",null,"• 拍摄位置：尽量保证同一个地方、同一个角度进行拍摄；"),s.createElement("p",null,"• 上传次数：至少在开营前、中、后分别拍摄三次照片，并添加体重、体脂和腰围；"))))}}),N=s.createClass({displayName:"ImgUpLoad",getInitialState:function(){return{loadImg:{campId:"",roleId:"",frontPicture:"",facePicture:"",weight:"",fat:"",waistMeasure:"",day:"",time:""},DateList:[],DateHTMLArr:[],currentDate:"",strTime:"",days:"",dateListLen:"",sex:"",weightDate:"",HTMLweight:{},startX:"",startY:"",moveEndX:"",moveEndY:"",minNum2:"",testLeft:"",leftNum:"",waistMeasure:"",isWeightDate:0,bigImgArr:[]}},componentWillMount:function(){var e=ajaxLink+"/v1/api/campCommon/campDateList"+window.location.search+"&campId="+b;this.serverRequest=$.get(e,function(e){if(200==e.code){if(e.resp.dateList.length>0){for(var t=e.resp.dateList.length,a=e.resp.dateList[e.resp.dateList.length-1].date,i=e.resp.dateList[e.resp.dateList.length-1].time,n=e.resp.dateList,o=[],r=0;r<n.length;r++)o.push(s.createElement("div",{className:"swiper-slide","data-time":n[r].time,key:r},n[r].date));this.setState({DateList:n,currentDate:a,strTime:i,DateHTMLArr:o,dateListLen:t}),this.getCampDay(i),this.getCampBodyIndexData(0)}}else $(".error-main-t").html(e.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}.bind(this))},componentDidMount:function(){c.subscribe("HTMLweight",function(e,t){this.setState({HTMLweight:t})}.bind(this)),c.subscribe("bigImgData",function(e,t){this.setState({bigImgArr:t})}.bind(this))},UpLoadHandleClick:function(e){setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_ShangChuan),e.stopPropagation(),0==h&&(S.frontPicture=""),0==p&&(S.facePicture="");var t=$("#dayc").html(),a=$("#selectdate").html();if((0!=h||0!=p)&&w){var n=ajaxLink+"/v1/api/campStu/pictureIn"+window.location.search+"&campId="+b+"&roleId="+roleId+"&frontPicture="+S.frontPicture+"&facePicture="+S.facePicture+"&weight="+d+"&fat="+g+"&waistMeasure="+u+"&day="+t+"&time="+a;w=!1,$.ajax({type:"get",url:n,dataType:"json",success:function(e){if(200==e.code){if($(".upload").css("opacity","0.6"),e.resp.waistMeasureId&&null!=e.resp.waistMeasureId&&""!=e.resp.waistMeasureId){var t=isMobile();"isApp"==t&&appFc.changeGirth(function(){var t={roleId:roleId,serverId:e.resp.waistMeasureId,girthNum:u,time:e.resp.operateTrime};return JSON.stringify(t)}())}var a=getParamByUrl("uploadurl");if(a&&0==a)i();else if(a&&1==a){var t=isMobile();if("isApp"==t){if("android"==getParamByUrl("os")){appFc.showBackBtn(function(){var e={controlBtn:!1,function:""};return JSON.stringify(e)}())}appFc.deleteHistory(function(){var e={backNum:1,closeWebview:0};return JSON.stringify(e)}())}else history.go(-1),location.reload();w=!0}else history.go(-1)}else w=!0,$(".error-main-t").html(e.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}})}},ShowUploadSugHandle:function(e){var t=parseInt($("html").css("font-size")),a=1.4375*t;if(window.innerHeight<440&&($(".prompt-main").css("padding","1rem 1.5625rem"),$(".prompt-main .content p").css("margin-bottom","0.5rem"),a=1*t),setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_ChaKanShangChuanYaoQiu),"android"==getParamByUrl("os")){"isApp"==isMobile()&&appFc.showBackBtn(function(){var e={controlBtn:!0,function:"promptAndroid"};return JSON.stringify(e)}())}$(".prompt-back").css("display","block"),$(".prompt-pic-left").css("height",4*$(".prompt-pic-left").width()/3),$(".prompt-pic-right").css("height",4*$(".prompt-pic-left").width()/3),$(".prompt-main").css("margin-top",-$(".prompt-main").height()/2-a)},showDate:function(){$(".backscroll-time").css("height",$(window).height()),$(".backscroll-time").show();var e=this.state.dateListLen;new Swiper(".backscroll-time .swiper-container",{direction:"vertical",slidesPerView:5,initialSlide:e-1,centeredSlides:!0});if("android"==getParamByUrl("os")){"isApp"==isMobile()&&appFc.showBackBtn(function(){var e={controlBtn:!0,function:"dateAndroid"};return JSON.stringify(e)}())}},getCampDay:function(e){var t=ajaxLink+"/v1/api/campCommon/campDay"+window.location.search+"&campId="+b+"&roleId="+roleId+"&time="+e;this.serverRequest=$.get(t,function(e){if(200==e.code){var t=e.resp;this.setState({days:t})}else $(".error-main-t").html(e.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}.bind(this))},SureHandleClick:function(e){e.stopPropagation(),this.setState({currentDate:$(".swiper-slide-active").html()}),this.HideTime();var t=$(".swiper-slide-active").attr("data-time");this.getCampDay(t),n(),setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_XuanZeShiJian)},CancelHandleClick:function(e){e.stopPropagation(),this.HideTime(),n(),setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_QuXiaoXuanZeShiJian)},HideTime:function(){o.findDOMNode(this.refs.backscroll_time).style.display="none"},WeightHandleClick:function(e){if(e.stopPropagation(),setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_TianJiaTiZhi),1==this.state.isWeightDate){var t=document.querySelector(".fixBg-p"),a=document.querySelector(".fixBg"),i=document.querySelector(".fixBg-main");t.style.display="block",a.style.display="block",t.innerHTML="暂无测量数据哦，赶快去上秤吧~",i.style.marginTop=-i.offsetHeight/2,setTimeout(function(){a.style.display="none",t.style.display="none"},1500)}else this.getCampBodyIndexData(1)},getCampBodyIndexData:function(e){if(0==e){var t=$("#selectdate").html(),a=ajaxLink+"/v1/api/campCommon/campBodyIndexData"+window.location.search+"&campId="+b+"&roleId="+roleId+"&time="+t;this.serverRequest=$.get(a,function(e){if(200==e.code){var t,a;e.resp&&(e.resp.sex&&(t=e.resp.sex),e.resp.bodyIndexDate&&e.resp.bodyIndexDate.length>0?(a=e.resp.bodyIndexDate,f=e.resp.beginIndex,this.setState({isWeightDate:0,sex:t,weightDate:a})):this.setState({isWeightDate:1}))}else $(".error-main-t").html(e.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}.bind(this))}else this.showWeight()},showWeight:function(){this.state.initHTMLData;$(".backscroll-weight").css("height",$(window).height()),$(".backscroll-weight").css("display","block"),console.log(f);var e=f;f>1&&(e=f-2);new Swiper(".backscroll-weight .swiper-container",{direction:"vertical",initialSlide:e,slidesPerView:5,centeredSlides:!1});if($(".backscroll-weight .swiper-wrapper .selectImg").attr("src","https://cdn2.picooc.com/web/res/fatburn/image/figureContrast/nopick.png"),$(".backscroll-weight .swiper-wrapper .selectImg").eq(f).attr("src","https://cdn2.picooc.com/web/res/fatburn/image/figureContrast/pick.png"),"android"==getParamByUrl("os")){"isApp"==isMobile()&&appFc.showBackBtn(function(){var e={controlBtn:!0,function:"weightAndroid"};return JSON.stringify(e)}())}},delWeightClick:function(e){e.preventDefault(),e.stopPropagation();var t={};c.publish("HTMLweight",t),e.currentTarget.style.display="none"},getWaistList:function(){setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_TianJiaYaoWei);var e=this.state.sex;console.log(e),$(".backscroll-waist").css("height",$(window).height()),$(".backscroll-waist").css("display","block");var t=$("#line").get(0),t=t.getContext("2d"),a=70;if(1==e){a=80;var i=14960,n=1360,s=48,o=4800,r=-13383}else{a=70;var i=14960,n=1360,s=42,o=4200,r=-13383}this.setState({minNum2:o,leftNum:r}),$("#line").css("width",i+"px"),$("#line").css("height","60px"),$("#line").attr("width",2*i),$("#line").attr("height",120),t.strokeStyle="#000000",t.lineWidth=2,t.font="24px  Arial";for(var c=1;c<n;c++)c%5==0?(t.beginPath(),t.moveTo(10*c*2+1,0),t.lineTo(10*c*2+1,64),t.strokeStyle="#000000",t.stroke(),t.textAlign="center",t.fillText(s+c/10,10*c*2+1,92)):(t.beginPath(),t.moveTo(10*c*2+1,16),t.lineTo(10*c*2+1,64),t.strokeStyle="#000000",t.stroke());if(""!=u&&(a=u),$("#line-bg").css("left",parseInt($(window).width()/2)),$("#line").css("left",parseInt(parseInt($(window).width()/2)+o)-100*a),$(".num").html((parseInt($(window).width()/2)-parseInt($("#line").css("left"))+o)/100),"android"==getParamByUrl("os")){"isApp"==isMobile()&&appFc.showBackBtn(function(){var e={controlBtn:!0,function:"wasitAndroid"};return JSON.stringify(e)}())}},WaistTouchStart:function(e){e.preventDefault();var t=e.changedTouches[0].pageX,a=e.changedTouches[0].pageY,i=parseInt($("#line").css("left"));this.setState({startX:t,startY:a,testLeft:i})},WaistTouchMove:function(e){e.preventDefault(),e.stopPropagation();var t=e.changedTouches[0].pageX,a=(e.changedTouches[0].pageY,this.state.startX),i=(this.state.startY,this.state.testLeft),n=this.state.leftNum,s=t-a;i+s>$(window).width()/2?$("#line").css("left",$(window).width()/2):i+s<n-$(window).width()/10?$("#line").css("left",n+"px"):$("#line").css("left",i+s)},WaistTouchEnd:function(e){e.preventDefault(),e.stopPropagation();var t=this.state.minNum2;$("#line").css("left",parseInt($("#line").css("left"))+(parseInt($(window).width()/2)-parseInt($("#line").css("left")))%10),$(".num").html((parseInt($(window).width()/2)-parseInt($("#line").css("left"))+t)/100)},WaistSureClick:function(e){e.preventDefault(),e.stopPropagation();var t=o.findDOMNode(this.refs.backscroll_waist);t.style.display="none";var a=t.querySelector(".num");u=a.innerHTML,o.findDOMNode(this.refs.delWaist).style.display="block",this.setState({waistMeasure:"："+u+"CM"}),n(),setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_XuanZeYaoWei)},WaistCancelClick:function(e){e.preventDefault(),e.stopPropagation(),o.findDOMNode(this.refs.backscroll_waist).style.display="none",n(),setMaiDian(v.SCategory_SShangChuanZhaoPian,v.SShangChuanZhaoPian_QuXiaoXuanZeYaoWei)},delWaist:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget;t.style.display="none";var a=t.parentNode;a.querySelector(".waistdatas");u="",this.setState({waistMeasure:""}),console.log(a)},tipsClick:function(e){e.stopPropagation(),o.findDOMNode(this.refs.fixBg_btn).style.display="none"},render:function(){var e={position:"absolute",top:"5.35rem",height:"2.675rem",left:"0",width:"100%"},t=this.state.DateHTMLArr,a=this.state.currentDate,i=this.state.days,n=this.state.weightDate,o=this.state.HTMLweight;console.log(o);var c,d=this.state.waistMeasure,g=this.state.bigImgArr;""!=g&&(c=s.createElement(l,{bigImgArr:g}));var h={height:document.body.scrollHeight},p={width:document.body.scrollWidth-140};return s.createElement("div",null,s.createElement("section",{className:"container"},s.createElement("aside",{className:"row time",onTouchStart:this.showDate},s.createElement("span",{id:"selectdate"},a)," ",s.createElement("span",{id:"selectday"},"DAY",s.createElement("span",{id:"dayc"},i))),s.createElement(C,null),s.createElement("div",{className:"prompt"},s.createElement("div",{id:"prompt",onClick:this.ShowUploadSugHandle},s.createElement("img",{className:"prompt-img",src:"image/figureContrast/i.png"}),s.createElement("div",{className:"prompt-content"},"拍摄及上传要求"))),s.createElement("div",{className:"col-xs-12 col-sm-12 line-1px"}),s.createElement("div",{className:"tishi"},"您还可以为照片添加标记："),s.createElement("aside",{id:"selectweight",className:"row weight",onTouchStart:this.WeightHandleClick},s.createElement("span",{className:"weight-name"},"体重/脂肪"),s.createElement("span",{id:"weightdata"},s.createElement("span",{id:"weight"},o.weight),s.createElement("span",{id:"fat"},o.fat),s.createElement("span",{className:"clear",onTouchStart:this.delWeightClick,style:{display:"none"}}))),s.createElement("aside",{id:"selectwaist",className:"row waist",onTouchStart:this.getWaistList},s.createElement("span",{className:"waist-name"},"腰围"),s.createElement("span",{id:"waistdata"},s.createElement("span",{className:"waistdatas"},d),s.createElement("span",{className:"clear",ref:"delWaist",style:{display:"none"},onTouchStart:this.delWaist}))),s.createElement("a",{className:"row upload",onTouchStart:this.UpLoadHandleClick},"上传"),c,s.createElement("div",{className:"backscroll-time",ref:"backscroll_time"},s.createElement("div",{className:"select-container"},s.createElement("div",{className:"select-title"},s.createElement("div",{className:"select-cancel",onClick:this.CancelHandleClick}),s.createElement("div",{className:"select-head"},"选择拍照日期"),s.createElement("div",{className:"select-sure",onClick:this.SureHandleClick})),s.createElement("div",{className:"select-content swiper-container"},s.createElement("img",{src:"http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/top-meng.png",className:"top-meng"}),s.createElement("img",{src:"http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/bottom-meng.png",className:"bottom-meng"}),s.createElement("div",{className:"swiper-wrapper"},t),s.createElement("div",{className:"doubleline",style:e})))),s.createElement(I,{data_fat:n}),s.createElement("div",{className:"backscroll-waist",ref:"backscroll_waist"},s.createElement("div",{className:"select-container"},s.createElement("div",{className:"select-title"},s.createElement("div",{className:"select-cancel",onClick:this.WaistCancelClick}),s.createElement("div",{className:"select-head"},"添加腰围"),s.createElement("div",{className:"select-sure",onClick:this.WaistSureClick})),s.createElement("div",{className:"select-content"},s.createElement("div",{className:"waistList",onTouchStart:this.WaistTouchStart,onTouchMove:this.WaistTouchMove,onTouchEnd:this.WaistTouchEnd},s.createElement("div",{id:"num"},s.createElement("span",{className:"num"}),"cm"),s.createElement("div",{id:"line-main"},s.createElement("img",{src:"image/figureContrast/left-meng.png",className:"left-meng"}),s.createElement("img",{src:"image/figureContrast/right-meng.png",className:"right-meng"}),s.createElement("canvas",{id:"line",width:"44880",height:"180"})),s.createElement("div",{id:"line-bg"})))))),s.createElement("aside",{className:"row fixBg",style:h},s.createElement("div",{className:"col-xs-12 col-sm-12 fixBg-main",style:p},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-xs-12 col-sm-12 fixBg-top"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-xs-12 col-sm-12 fixBg-p"},"222222")))))),s.createElement(k,null),s.createElement(r,null),s.createElement("div",{className:"saveImg-ceng"},s.createElement("aside",{className:"row saveImg"},s.createElement("div",{className:"col-xs-12 col-sm-12 saveImg-btn saveImg-item",onClick:m.saveImgBtnTouchStart},"保存图片"),s.createElement("div",{className:"col-xs-12 col-sm-12 cancelImg-btn saveImg-item",onClick:m.cancelImgBtnTouchStart},"取消"))))}});o.render(s.createElement(N,null),document.getElementById("uploadImgBox")),$(function(){window.innerWidth>365?($(".weight-name").css("width","20%"),$("#weightdata").css("width","76%")):window.innerWidth<365&&window.innerWidth>340?($(".weight-name").css("width","21%"),$("#weightdata").css("width","74%")):window.innerWidth>=320&&window.innerWidth<340&&($(".weight-name").css("width","22%"),$("#weightdata").css("width","73%"));var e={title:"上传照片",color:"",opacity:"",backgroundColor:"",backgroundOpacity:""};e=JSON.stringify(e),appFc.controlTitle(e),n()})},6:function(e,t,a){"use strict";function i(){if(w){w=!1;var e={display:!0};e=JSON.stringify(e),appFc.showTitle(e);appFc.showBackBtn(function(){var e={controlBtn:!1,function:""};return JSON.stringify(e)}());var t=setTimeout(function(){$("body").css("overflow","auto"),$("body").removeAttr("style"),$(".bigImg").css("display","none"),"block"==$(".page1").css("display")&&$(".setcard-img").css("display","block"),$(".saveImg-ceng").css("display","none"),document.addEventListener("touchmove",function(e){"hidden"==$("body").css("overflow")&&e.preventDefault()}),clearTimeout(s),clearTimeout(t),console.log(n);try{n.slideTo(0,1e3,!1),n.destroy(!0),console.log("mySwiper摧毁")}catch(t){var e=[];h.publish("bigImgData",e),console.log("mySwiper错误")}w=!0},200)}event.stopPropagation()}var n,s,o,r,c,l,m,d,g,h=a(1),p={},u=$(window).width(),f=$(window).height(),w=!0;window.commentDisplayBtn=!1,p.bindBigImg=function(e){if("block"==$(".comment2").css("display")||commentDisplayBtn)$("#comment-msg").blur(),commentDisplayBtn=!1;else{c=!0;var t=e.currentTarget.getAttribute("data-obj_img"),a=e.currentTarget.getAttribute("data-obj_img_index"),i=publicData.objImg[t];h.publish("bigImgData",i),"block"==$(".page1").css("display")&&$(".setcard-img").css("display","none"),$(".comment").css("display","none"),$("#comment-msg").blur(),$(".getImg-bg").css("height",$(".getImg-bg").width()),$(".bigImg-li").css("width",u),"android"==getParamByUrl("os")?$(".bigImg-li").css("height",f+70):$(".bigImg-li").css("height",f+64);var o={display:!1};o=JSON.stringify(o),appFc.showTitle(o);appFc.showBackBtn(function(){var e={controlBtn:!0,function:"closeBigImg"};return JSON.stringify(e)}()),s=setTimeout(function(){$("body").css("max-height",$(window).height()),$("body").css("overflow","hidden"),$(".swiper-container").css("width",$(window).width()),$(".swiper-wrapper").css("width",$(window).width()),$(".bigImg-li").css("width",$(window).width()),$(".bigImg").css("display","block"),document.addEventListener("touchmove",function(e){"hidden"==$("body").css("overflow")&&e.preventDefault()}),1==publicData.objImg[t].length?(n=new Swiper(".swiper-container-bigImg",{}),console.log(n)):(n=new Swiper(".swiper-container-bigImg",{pagination:".swiper-pagination-bigImg",spaceBetween:1,centeredSlides:!0,initialSlide:a}),console.log(n))},200)}},p.imgTouchStart=function(e){console.log(e),clearTimeout(r),r="",l=e.changedTouches[0].pageX,m=e.changedTouches[0].pageY;e.currentTarget.getAttribute("data-index");console.log(e.currentTarget.getAttribute("data-index")),o=$(e.currentTarget).css("background-image").split("(")[1].split(")")[0],console.log(o),console.log($(".bigImg").css("display")),console.log("setTimeout1"),r=setTimeout(function(){"block"==$(".bigImg").css("display")&&(console.log("setTimeout2"),$(".saveImg-ceng").css("height",$(window).height()),$(".saveImg-ceng").css("display","block"),c=!1),clearTimeout(r)},800),e.preventDefault()},p.imgTouchMove=function(e){if("block"==$(".saveImg-ceng").css("display"))clearTimeout(r),c=!1;else{d=e.changedTouches[0].pageX,g=e.changedTouches[0].pageY;var t,a;t=d-l,a=g-m,console.log(t+"|"+a),(t<-50||t>50||a<-50||a>50)&&(clearTimeout(r),c=!1)}e.preventDefault()},p.imgTouchEnd=function(e){d=e.changedTouches[0].pageX,g=e.changedTouches[0].pageY;var t,a;t=d-l,a=g-m,(t<-20||t>20||a<-20||a>20)&&(console.log("clearTimeout执行"),clearTimeout(r),c=!1),clearTimeout(r),console.log("timeBtn:"+c),console.log(r),c&&i(),c=!0,e.preventDefault()},p.saveImgBtnTouchStart=function(){event.stopPropagation(),event.preventDefault();isMobile();appFc.saveImg(function(){var e={url:o};return JSON.stringify(e)}()),$(".saveImg-ceng").css("display","none")},p.cancelImgBtnTouchStart=function(){event.stopPropagation(),event.preventDefault(),$(".saveImg-ceng").css("display","none")},p.saveImgCengTouchStart=function(){$(".saveImg-ceng").css("display","none"),event.stopPropagation(),event.preventDefault()},e.exports=p}},[212]);