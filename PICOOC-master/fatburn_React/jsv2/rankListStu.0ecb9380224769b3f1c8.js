webpackJsonp([16],{247:function(e,t,a){"use strict";var r=a(0),n=a(1),s=a(3),c=r.createClass({displayName:"RankListStuContainer",getInitialState:function(){return this.rankListStuFun(),{rankListStuData:{}}},render:function(){var e=this,t=e.state.rankListStuData,a="",n=getParamByUrl("roleId"),s=getParamByUrl("campId");if(void 0!==e.state.rankListStuData.resp){e.clientControlFun(t.resp.week,t.resp.roleName);var c=t.resp.stuList,i="",o=[];i=r.createElement("aside",{className:"row rankTitle"},r.createElement("div",{className:"col-xs-4 col-sm-4 part"},r.createElement("div",{className:"headImgBox"},r.createElement("img",{className:"ranking",src:"https://cdn2.picooc.com/web/res/fatburn/image/rankListStu/yin.png",alt:""}),r.createElement("img",{className:"headImg",src:c[1].url,onError:imgError.bind(this,t.resp.stuList[1].sex)}),r.createElement("span",{className:"number"},"2")),r.createElement("div",{className:"rankName"},c[1].name)),r.createElement("div",{className:"col-xs-4 col-sm-4 middle"},r.createElement("div",{className:"headImgBox"},r.createElement("img",{className:"ranking",src:"https://cdn2.picooc.com/web/res/fatburn/image/rankListStu/jin.png",alt:""}),r.createElement("img",{className:"headImg",src:c[0].url,onError:imgError.bind(this,t.resp.stuList[0].sex)}),r.createElement("span",{className:"number"},"1")),r.createElement("div",{className:"rankName"},c[0].name)),r.createElement("div",{className:"col-xs-4 col-sm-4 part"},r.createElement("div",{className:"headImgBox"},r.createElement("img",{className:"ranking",src:"https://cdn2.picooc.com/web/res/fatburn/image/rankListStu/tong.png",alt:""}),r.createElement("img",{className:"headImg",src:c[2].url,onError:imgError.bind(this,t.resp.stuList[2].sex)}),r.createElement("span",{className:"number number2"},"3")),r.createElement("div",{className:"rankName"},c[2].name)),r.createElement("div",{className:"col-xs-12 col-sm-12 updateTime"},r.createElement("span",{className:""},"更新时间："),r.createElement("span",{className:""},t.resp.day))),c.map(function(t,c){a="studentOtherInfo.html"+removeParamByUrl("targetRoleId")+"&targetRoleId="+t.roleId+"&targetCampId="+s,a=n==t.roleId?"studentStudentInfo.html"+removeParamByUrl("targetRoleId")+"&targetRoleId="+t.roleId+"&targetCampId="+s:"studentOtherInfo.html"+removeParamByUrl("targetRoleId")+"&targetRoleId="+t.roleId+"&targetCampId="+s;var i="";0==c?i=r.createElement("img",{className:"rank",src:"https://cdn2.picooc.com/web/res/fatburn/image/rankListStu/jin.png"}):1==c?i=r.createElement("img",{className:"rank",src:"https://cdn2.picooc.com/web/res/fatburn/image/rankListStu/yin.png"}):2==c&&(i=r.createElement("img",{className:"rank",src:"https://cdn2.picooc.com/web/res/fatburn/image/rankListStu/tong.png"})),o.push(r.createElement("div",{className:"row rankItem",key:c,onClick:e.getNewWebView,"data-info-url":a},r.createElement("div",{className:"col-xs-5 col-sm-5 left",style:{background:0==c?'url("https://cdn2.picooc.com/web/res/fatburn/image/rankListStu/jin-bg.png") no-repeat left top':1==c?'url("https://cdn2.picooc.com/web/res/fatburn/image/rankListStu/yin-bg.png") no-repeat left top':2==c?'url("https://cdn2.picooc.com/web/res/fatburn/image/rankListStu/tong-bg.png") no-repeat left top':"",backgroundSize:"2.5625rem 2.8125rem"}},r.createElement("span",{className:"headBox"},r.createElement("span",{className:"orderNum",style:{color:c>2?"#7C8995":"#FFF"}},c+1),i,r.createElement("img",{className:"head",src:t.url,onError:imgError.bind(this,t.sex)})),r.createElement("span",{className:"userName"},t.name)),r.createElement("div",{className:"col-xs-7 col-sm-7 right"},r.createElement("div",{className:"col-xs-4 col-sm-4 fat"},r.createElement("span",{className:"fatName"},"脂肪"),r.createElement("br",null),r.createElement("span",{className:"fatSize"},t.fatChange,r.createElement("span",{className:"danWei"},"%"))),r.createElement("div",{className:"col-xs-4 col-sm-4 weight"},r.createElement("span",{className:"weightName"},"体重"),r.createElement("br",null),r.createElement("span",{className:"weightSize"},t.weightChange,r.createElement("span",{className:"danWei"},"kg"))),r.createElement("div",{className:"col-xs-4 col-sm-4 rate"},r.createElement("div",{className:"prg-cont rad-prg indicatorContainer"},r.createElement("img",{src:"https://cdn2.picooc.com/web/res/fatburn/image/rankListStu/daKaText.png",className:"daKaText"}),r.createElement("div",{className:"rad-con"},r.createElement("span",{className:"percentNum"},t.clockRate),r.createElement("span",{className:"percent"},"%")))))))})}return r.createElement("div",{className:"container"},i,r.createElement("aside",{className:"rankList"},o))},rankListStuFun:function(){var e=this,t=window.location.protocol+"//"+window.location.host,a=t+"/v1/api/campCommon/campRankList"+window.location.search;$.ajax({type:"get",url:a,dataType:"json",success:function(t){if(console.log("周减脂排名",t),200==t.code){void 0!==e.state.rankListStuData.resp&&e.state.rankListStuData.resp.stuList.length>0&&(t.resp.stuList=e.state.rankListStuData.resp.stuList.concat(t.resp.stuList)),e.setState({rankListStuData:t});for(var a=0;a<t.resp.stuList.length;a++){var r=t.resp.stuList[a].clockRate;100==r&&$(".indicatorContainer .percentNum").eq(a).css("paddingLeft","0.0625rem"),$(".indicatorContainer").eq(a).radialIndicator({barColor:"#C1C7D2",barWidth:1,initValue:.75*r,roundCorner:!0,percentage:!0,displayNumber:!1,radius:16})}}else $(".error-main-t").html("服务器开小差了～"),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}})},getNewWebView:function(e){var t=absoluteUrl+e.currentTarget.getAttribute("data-info-url");console.log(t);var a=function(){var e={link:t,animation:1};return JSON.stringify(e)};"isApp"==isMobile()?getParamByUrl("webver")>2?appFc.openWebview(a()):mobileApp.openWebview(a()):window.location.href=t},clientControlFun:function(e,t){if(getParamByUrl("webver")>2){appFc.controlLeft(function(){var e={iconType:0,iconColor:"",backNum:1,closeWebview:0,hidden:!1,isHandle:!1,functionName:""};return JSON.stringify(e)}())}else{"isApp"==s&&"undefined"!=typeof mobileApp&&mobileApp.showLeftBtn(function(){var e={iconType:0,backNum:1,closeWebview:0,iconUrl:"",hidden:!1,isHandle:!1,functionName:""};return JSON.stringify(e)}()),document.documentElement.style.webkitTouchCallout="none"}if(getParamByUrl("webver")>2){var a={title:"第"+e+"周减脂排名",color:"",opacity:"",backgroundColor:"",backgroundOpacity:""};a=JSON.stringify(a),appFc.controlTitle(a);var r="",n=["https://cdn2.picooc.com/web/res/event/chrome/android_share.png","https://cdn2.picooc.com/web/res/event/chrome/ios_share.png"];r="android"==getParamByUrl("os")?n[0]:n[1];appFc.controlRight(function(){var e={iconType:0,rightStr:{str:"",color:"",opacity:"",id:"0"},rightIcon:[{type:"1",id:"1",functionName:"",iconUrl:r,iconName:"分享",redDotType:"1",redDotShow:!1,redDotNum:"0",nativeType:"0",content:{shareTitle:"有品·燃脂营",shareUrl:"",shareIcon:"",shareDesc:"#有品燃脂营，随时减脂有效塑形#@有品PICOOC",shareTag:"",shareType:1,shareBackgroundColor:"#eeeff3",shareTypeDesc:"有品燃脂营 · 减脂排名",fatBurnName:t}}]};return JSON.stringify(e)}())}else{var s=isMobile();"isApp"==s&&"undefined"!=typeof mobileApp&&mobileApp.getShareInfo(function(){var t={title:"第"+e+"周减脂排名",backgroundColor:"#eeeff3",isShare:!0,shareTitle:"有品·燃脂营",shareUrl:"",shareIcon:"",shareDesc:"#有品燃脂营，随时减脂有效塑形#@有品PICOOC",shareType:1,shareTypeDesc:"",color:"",opacity:"",backgroundOpacity:""};return JSON.stringify(t)}()),document.documentElement.style.webkitTouchCallout="none"}}}),i=r.createClass({displayName:"Component",render:function(){return r.createElement("div",null,r.createElement(c,null),r.createElement(s,null))}});n.render(r.createElement(i,null),document.getElementById("rankListStu"))}},[247]);