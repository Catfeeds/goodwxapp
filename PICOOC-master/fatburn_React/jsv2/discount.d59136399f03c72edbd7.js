webpackJsonp([36],{209:function(e,a,s){"use strict";var t=s(0),l=s(1),o=s(3),c={SCategory_SWoDeYouHuiQuan:5080900,SWoDeYouHuiQuan_RanZhiYingYouHuiQuan:5080901,SWoDeYouHuiQuan_GouChengYouHuiMa:5080902,SWoDeYouHuiQuan_QianWangYouZan:5080903},n=t.createClass({displayName:"DiscountContainer",getInitialState:function(){this.findCoupon();var e={title:"燃脂营优惠券",color:"",opacity:"",backgroundColor:"",backgroundOpacity:""};return e=JSON.stringify(e),appFc.controlTitle(e),{couponList:[],codeList:[]}},render:function(){var e=this,a=e.state.couponList.length>0?"none":"block",s=e.state.codeList.length>0?"none":"block",l=[],o=[];return t.createElement("section",{className:"container"},t.createElement("aside",{className:"row title"},t.createElement("div",{className:"col-xs-6 col-sm-6 leftTitle leftBox",onClick:e.leftBoxFunction,ref:"leftBox"},"燃脂营优惠券"),t.createElement("div",{className:"col-xs-6 col-sm-6 rightBox",onClick:e.rightBoxFunction,ref:"rightBox"},"购秤优惠码")),t.createElement("aside",{className:"row coupons",style:{display:"block"}},t.createElement("div",{style:{display:a},className:"row noCoupon"},"暂无可使用的优惠券~"),e.state.couponList.map(function(a,s){0==a.isUse?a.expire?l.push(t.createElement("div",{key:s,className:"row col-xs-12 col-sm-12 avail notAvail"},t.createElement("div",{className:"msg"},t.createElement("div",{className:"col-xs-6 col-sm-6 continue"},a.name),t.createElement("div",{className:"col-xs-6 col-sm-6 value"},t.createElement("span",{className:"value1"},"¥")," ",t.createElement("span",{className:"value2"},a.value))),t.createElement("div",{className:"col-xs-12 col-sm-12 term"},"有效期：",a.beginTime," - ",a.endTime),t.createElement("div",{className:"col-xs-12 col-sm-12 require"},a.rule),t.createElement("img",{className:"status",src:"image/withoutCamp/coupon3.png"}),t.createElement("div",{className:"col-xs-12 col-sm-12 goToSale",onClick:e.aaa},"立即使用"))):l.push(t.createElement("div",{key:s,className:"row col-xs-12 col-sm-12 avail isAvail"},t.createElement("div",{className:"msg msgActive"},t.createElement("div",{className:"col-xs-6 col-sm-6 continue"},a.name),t.createElement("div",{className:"col-xs-6 col-sm-6 value"},t.createElement("span",{className:"value1"},"¥")," ",t.createElement("span",{className:"value2"},a.value))),t.createElement("div",{className:"col-xs-12 col-sm-12 term"},"有效期：",a.beginTime," - ",a.endTime),t.createElement("div",{className:"col-xs-12 col-sm-12 require"},a.rule),t.createElement("div",{className:"col-xs-12 col-sm-12 goToSale goToSaleIsAlive","data-link":a.link,onClick:e.goToLink},"立即使用"))):1==a.isUse&&l.push(t.createElement("div",{key:s,className:"row col-xs-12 col-sm-12 avail notAvail"},t.createElement("div",{className:"msg"},t.createElement("div",{className:"col-xs-6 col-sm-6 continue"},a.name),t.createElement("div",{className:"col-xs-6 col-sm-6 value"},t.createElement("span",{className:"value1"},"¥")," ",t.createElement("span",{className:"value2"},a.value))),t.createElement("div",{className:"col-xs-12 col-sm-12 term"},"有效期：",a.beginTime," - ",a.endTime),t.createElement("div",{className:"col-xs-12 col-sm-12 require"},a.rule),t.createElement("img",{className:"status",src:"image/withoutCamp/coupon2.png"}),t.createElement("div",{className:"col-xs-12 col-sm-12 goToSale",onClick:e.aaa},"立即使用")))}),l),t.createElement("aside",{className:"row couponCode",style:{display:"none"}},t.createElement("div",{style:{display:s},className:"row noCoupon"},"暂无可使用的优惠码~"),e.state.codeList.map(function(a,s){a.expire?o.push(t.createElement("div",{key:s,className:"row col-xs-12 col-sm-12 avail notAvail"},t.createElement("div",{className:"msg"},t.createElement("div",{className:"col-xs-8 col-sm-8 continue"},t.createElement("p",{className:"zan"},a.name),t.createElement("p",{className:"zanNum zanNum2"},a.coupon_code," ",t.createElement("span",{className:"copy copy2"}," 复制 "))),t.createElement("div",{className:"col-xs-4 col-sm-4 value"},t.createElement("span",{className:"value1"},"¥")," ",t.createElement("span",{className:"value2"},a.value))),t.createElement("div",{className:"col-xs-12 col-sm-12 term"},"有效期：",a.begin_time,"- ",a.end_time),t.createElement("div",{className:"col-xs-12 col-sm-12 require"},a.rule),t.createElement("img",{className:"status",src:"image/withoutCamp/coupon3.png"}),t.createElement("div",{className:"col-xs-12 col-sm-12 goTo goTo2"},"前往有赞使用"))):o.push(t.createElement("div",{key:s,className:"row col-xs-12 col-sm-12 avail isAvail"},t.createElement("div",{className:"msg msgActive"},t.createElement("div",{className:"col-xs-8 col-sm-8 continue"},t.createElement("p",{className:"zan"},a.name),t.createElement("p",{className:"zanNum"},a.coupon_code," ",t.createElement("span",{"data-code":a.coupon_code,className:"copy copy3",onClick:e.copyFunction}," 复制 "))),t.createElement("div",{className:"col-xs-4 col-sm-4 value"},t.createElement("span",{className:"value1"},"¥")," ",t.createElement("span",{className:"value2"},a.value))),t.createElement("div",{className:"col-xs-12 col-sm-12 term"},"有效期：",a.begin_time,"- ",a.end_time),t.createElement("div",{className:"col-xs-12 col-sm-12 require"},a.rule),t.createElement("div",{className:"col-xs-12 col-sm-12 goTo",onClick:e.goToFunction},"前往有赞使用")))}),o))},findCoupon:function(){var e=this,a=ajaxLink+"/v1/api/campCoupon/findCoupon"+window.location.search;$.ajax({type:"get",url:a,dataType:"json",success:function(s){console.log(s),console.log(a),200==s.code?e.setState({couponList:s.resp.couponList,codeList:s.resp.codeList}):($(".error-main-t").html(s.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2))}})},goToFunction:function(){if(setMaiDian(c.SCategory_SWoDeYouHuiQuan,c.SWoDeYouHuiQuan_QianWangYouZan),"isApp"==isMobile()){var e={link:"https://h5.koudaitong.com/v2/goods/361jk71ya1ddk",animation:1};e=JSON.stringify(e),appFc.openWebview(e)}else window.location.href="https://h5.koudaitong.com/v2/goods/361jk71ya1ddk"},copyFunction:function(e){e.stopPropagation();var a=e.currentTarget.getAttribute("data-code");if("isApp"==isMobile()){var s=function(){var e={content:a};return JSON.stringify(e)};appFc.copyContent(s)}$(".fixBg").css("height",$(window).height()),$(".fixBg-main").css("width",$(window).width()-140),$(".fixBg-p").css("display","block"),$(".fixBg").css("display","block"),$(".fixBg-p").html("复制成功，前往有赞去使用吧~"),$(".fixBg-main").css("margin-top",-$(".fixBg-main").height()/2),setTimeout(function(){$(".fixBg").css("display","none"),$(".fixBg-p").css("display","none")},1500)},leftBoxFunction:function(e){var a=this;setMaiDian(c.SCategory_SWoDeYouHuiQuan,c.SWoDeYouHuiQuan_RanZhiYingYouHuiQuan),$(a.refs.leftBox).addClass("leftTitle").next().removeClass("rightTitle"),$(".coupons").show(),$(".couponCode").hide()},rightBoxFunction:function(e){var a=this;setMaiDian(c.SCategory_SWoDeYouHuiQuan,c.SWoDeYouHuiQuan_GouChengYouHuiMa),$(a.refs.rightBox).addClass("rightTitle").prev().removeClass("leftTitle"),$(".couponCode").show(),$(".coupons").hide()},goToLink:function(e){var a=e.currentTarget.getAttribute("data-link");window.location.href=a+"&"+window.location.search.substring(1)}}),i=t.createClass({displayName:"FixBg",render:function(){return t.createElement("div",null,t.createElement("aside",{className:"row fixBg"},t.createElement("div",{className:"col-xs-12 col-sm-12 fixBg-main"},t.createElement("div",{className:"row"},t.createElement("div",{className:"col-xs-12 col-sm-12 fixBg-top"},t.createElement("div",{className:"row"},t.createElement("div",{className:"col-xs-12 col-sm-12 fixBg-p"})))))))}}),m=t.createClass({displayName:"Component",render:function(){return t.createElement("div",null,t.createElement(n,null),t.createElement(o,null),t.createElement(i,null))}});l.render(t.createElement(m,null),document.getElementById("discountBox"))}},[209]);