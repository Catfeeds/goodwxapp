webpackJsonp([10],{10:function(e,t,a){"use strict";var i=a(0),s=a(6),n=i.createClass({displayName:"Public_bigImg",render:function(){var e=this.props.bigImgArr,t=[],a=[];console.log(publicData.objImg);for(var n=0;n<e.length;n++)t.push(i.createElement("div",{className:"col-xs-12 col-sm-12 swiper-slide bigImg-li",key:n,"data-index":n,style:{backgroundImage:"url("+e[n].url+")"},onTouchStart:s.imgTouchStart.bind(this),onTouchMove:s.imgTouchMove.bind(this),onTouchEnd:s.imgTouchEnd.bind(this)}));if(e.length>1)for(var n=0;n<e.length;n++)a.push(i.createElement("span",{className:"swiper-pagination-bullet",key:n}));return i.createElement("div",{className:"row"},i.createElement("aside",{className:"row swiper-container swiper-container-bigImg bigImg"},i.createElement("div",{className:"row swiper-wrapper bigImg-main"},t),i.createElement("div",{className:"swiper-pagination swiper-pagination-bigImg swiper-pagination-report"},a)),i.createElement("div",{className:"saveImg-ceng",onTouchStart:s.saveImgCengTouchStart},i.createElement("aside",{className:"row saveImg"},i.createElement("div",{className:"col-xs-12 col-sm-12 saveImg-btn saveImg-item",onTouchStart:s.saveImgBtnTouchStart},"保存图片"),i.createElement("div",{className:"col-xs-12 col-sm-12 cancelImg-btn saveImg-item",onTouchStart:s.cancelImgBtnTouchStart},"取消"))))}});e.exports=n},211:function(e,t,a){"use strict";function i(){var e=isMobile(),t=function(){var e={iconType:1,iconColor:"",backNum:1,closeWebview:0,hidden:!1,isHandle:!1,functionName:""};return JSON.stringify(e)};if("isApp"==e&&"tanchao"!=getParamByUrl("testtype")&&appFc.controlLeft(t()),"android"==getParamByUrl("os")){var t=function(){var e={controlBtn:!1,function:""};return JSON.stringify(e)},e=isMobile();"isApp"==e&&"tanchao"!=getParamByUrl("testtype")&&appFc.showBackBtn(t())}}var s=a(0),n=a(1),r=a(3),o=a(2),c=a(10),l=a(6),m=0,d=0,g=!0,p="",h=0,u="",f="",w=getParamByUrl("campId"),v=getParamByUrl("roleId"),b={SCategory_SBianJiZhaoPian:5061e3,SBianJiZhaoPian_XuanZePaiZhaoRiQi:5061001,SBianJiZhaoPian_ShangChuanZhengMianZhao:5061002,SBianJiZhaoPian_ShangChuanCeMianZhao:5061003,SBianJiZhaoPian_ChaKanShangChuanYaoQiu:5061004,SBianJiZhaoPian_TianJiaTiZhi:5061005,SBianJiZhaoPian_TianJiaYaoWei:5061006,SBianJiZhaoPian_XuanZeTiZhi:5061007,SBianJiZhaoPian_QuXiaoXuanZeTiZhi:5061008,SBianJiZhaoPian_XuanZeYaoWei:5061009,SBianJiZhaoPian_QuXiaoXuanZeYaoWei:5061010,SBianJiZhaoPian_ShangChuan:5061011,SBianJiZhaoPian_ShanChuZhaoPian:5061012,SBianJiZhaoPian_XianShiYuLanTu:5061013,SBianJiZhaoPian_QuXiaoXuanZeShiJian:5061014,SBianJiZhaoPian_XuanZeShiJian:5061015},y={objImg:{frontIMG:[],asideIMG:[]}};window.publicData=y,i();var I=s.createClass({displayName:"FatWeigthSelect",getInitialState:function(){return{weightDate:"",initHTMLData:{}}},componentDidMount:function(){o.subscribe("initHTMLData",function(e,t){this.setState({initHTMLData:t})}.bind(this))},CancelClick:function(e){n.findDOMNode(this.refs.backscroll_weight).style.display="none",i(),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_QuXiaoXuanZeTiZhi)},SureClick:function(e){e.stopPropagation(),e.stopPropagation(),n.findDOMNode(this.refs.backscroll_weight).style.display="none";var t=this.state.initHTMLData;u=$(".backscroll-weight .swiper-wrapper .swiper-slide").eq(h).find(".selectweight-weight").html(),f=$(".backscroll-weight .swiper-wrapper .swiper-slide").eq(h).find(".selectweight-fat").html(),t.weight="："+u+"KG/",t.fat=f+"%",t.weightDate=u,t.fatDate=f,o.publish("initHTMLData",t);var a=document.querySelector("#weightdata .clear");""==t.weight&&""==t.fat?a.style.display="none":a.style.display="block",i(),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_XuanZeTiZhi)},OptionHandleClick:function(e){this.state.initHTMLData;e.stopPropagation();var t=e.currentTarget;$(t).siblings().find(".selectImg").attr("src","https://cdn2.picooc.com/web/res/fatburn/image/figureContrast/nopick.png"),$(t).find(".selectImg").attr("src","https://cdn2.picooc.com/web/res/fatburn/image/figureContrast/pick.png"),h=$(".backscroll-weight .swiper-wrapper .swiper-slide").index(t)},render:function(){for(var e=this.props.data_fat,t=[],a=0;a<e.length;a++)t.push(s.createElement("div",{className:"swiper-slide ",key:a,onClick:this.OptionHandleClick,ref:"weight_date"},s.createElement("span",{className:"col-xs-5 col-sm-5 selectweight-date"},e[a].time),s.createElement("div",{className:"col-xs-3 col-sm-3",style:{display:"inlineBlock"}},s.createElement("span",{className:"selectweight-fat"},e[a].bodyFat),s.createElement("span",null,"%")),s.createElement("div",{className:"col-xs-3 col-sm-3",style:{display:"inlineBlock"}},s.createElement("span",{className:"selectweight-weight"},e[a].weight),s.createElement("span",null,"KG")),s.createElement("img",{className:"selectImg",src:"https://cdn2.picooc.com/web/res/fatburn/image/figureContrast/nopick.png"})));return s.createElement("div",{className:"backscroll-weight",ref:"backscroll_weight"},s.createElement("div",{className:"select-container"},s.createElement("div",{className:"select-title"},s.createElement("div",{className:"select-cancel",onClick:this.CancelClick}),s.createElement("div",{className:"select-head"},"选择数据"),s.createElement("div",{className:"select-sure",onClick:this.SureClick})),s.createElement("div",{className:"col-xs-12 col-sm-12 line-1px"}),s.createElement("div",{className:"select-content swiper-container"},s.createElement("div",{className:"swiper-wrapper"},t))))}}),S=s.createClass({displayName:"ImgUpLoadArea",getInitialState:function(){return{uploadtype:"",isHaveImg:{},frontPicture:"",facePicture:"",initHTMLData:{}}},componentWillMount:function(){var e,t,a=getParamByUrl("imgId"),i=ajaxLink+"/v1/api/campStu/gitPicture"+window.location.search+"&pictureId="+a;this.serverRequest=$.get(i,function(a){if(200==a.code){if(""!=a.resp.waistMeasureId&&null!=a.resp.waistMeasureId)var i=a.resp.waistMeasureId;else var i="";if(""!=a.resp.frontPicture&&null!=a.resp.frontPicture){$("#front").css("background-image","url("+a.resp.frontPicture+")"),$(".delete1").show(),$(".upload").css("background-color","#7fa9ff"),m=1,e=1;var s=a.resp.frontPicture}else{e=0;var s=""}if(""!=a.resp.facePicture&&null!=a.resp.facePicture){$("#side").css("background-image","url("+a.resp.facePicture+")"),$(".delete2").show(),$(".upload").css("background-color","#7fa9ff"),d=1;var n=a.resp.facePicture;t=1}else{t=0;var n=""}if(""!=a.resp.time&&null!=a.resp.time)var r=a.resp.time;else var r="";if(""!=a.resp.day&&null!=a.resp.day)var c=a.resp.day;else;if(""!=a.resp.weight&&""!=a.resp.fat&&null!=a.resp.weight&&null!=a.resp.fat)var l="："+a.resp.weight+"KG/",g=a.resp.fat+"%";else var l="",g="";if(""!=a.resp.waistMeasure&&null!=a.resp.waistMeasure)var p="："+a.resp.waistMeasure+"CM";else var p="";var h={waistMeasureId:i,facePicture:n,frontPicture:s,currentDate:r,days:c,weight:l,fat:g,waistMeasure:p,waistMeasureDate:a.resp.waistMeasure,weightDate:a.resp.weight,fatDate:a.resp.fat},u={isLoadImgFro:e,isLoadImgAsi:t};o.publish("isHaveImg",u),o.publish("initHTMLData",h),setTimeout(function(){getCampBodyIndexData(0)},0),y.objImg={asideIMG:[{url:n}],frontIMG:[{url:s}]}}else $(".error-main-t").html(a.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}.bind(this))},getImg:function(e){var t=this.state.isHaveImg,a=this.state.initHTMLData;if(0==this.state.uploadtype){$("#front").removeClass("front-default");for(var i=0;i<e.length;i++)$("#front").css("background-image","url("+e[i]+")"),a.frontPicture=e[i];y.objImg.frontIMG.push({url:$("#front").css("background-image").replace("url(","").replace(")","")}),$(".delete1").show(),$(".upload").css("background-color","#7fa9ff"),t.isLoadImgFro=1,m=1}else if(1==this.state.uploadtype){for(var i=0;i<e.length;i++)$("#side").css("background-image","url("+e[i]+")"),a.facePicture=e[i];y.objImg.asideIMG.push({url:$("#side").css("background-image").replace("url(","").replace(")","")}),t.isLoadImgAsi=1,d=1,$(".delete2").show(),$(".upload").css("background-color","#7fa9ff")}o.publish("isHaveImg",t),o.publish("initHTMLData",a)},AddfrontImgHandleClick:function(e){if(e.stopPropagation(),this.state.uploadtype=0,"tanchao"==getParamByUrl("testtype"))this.getImg(["http://cdn2.picooc.com/web/res/event/bottle/image/msg-2.png","http://cdn2.picooc.com/web/res/event/bottle/image/bg1.jpg"]);else var t=setTimeout(function(){if("isApp"==isMobile()&&"tanchao"!=getParamByUrl("testtype")){var e={maxNum:1,imageType:"bodyImg"};e=JSON.stringify(e),appFc.uploadImg(e)}clearTimeout(t)},250);setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_ShangChuanZhengMianZhao)},AddsideImgHandleClick:function(e){if(e.stopPropagation(),this.state.uploadtype=1,"tanchao"==getParamByUrl("testtype"))this.getImg(["http://cdn2.picooc.com/web/res/event/bottle/image/msg-2.png","http://cdn2.picooc.com/web/res/event/bottle/image/bg1.jpg"]);else var t=setTimeout(function(){if("isApp"==isMobile()&&"tanchao"!=getParamByUrl("testtype")){var e={maxNum:1,imageType:"bodyImg"};e=JSON.stringify(e),appFc.uploadImg(e)}clearTimeout(t)},250);setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_ShangChuanCeMianZhao)},DelFrontHandleClick:function(e){var t=this.state.isHaveImg;e.stopPropagation(),y.objImg.frontIMG=[],$("#front").css("background-image","url(http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/front.png)"),$("#front").addClass("front-default"),n.findDOMNode(this.refs.frontImg).style.display="none",t.isLoadImgFro=0,m=0,0==d&&$(".upload").css("background-color","#bbbbbb"),o.publish("isHaveImg",t),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_ShanChuZhaoPian)},DelAsideHandleClick:function(e){e.stopPropagation();var t=this.state.isHaveImg;$("#side").removeClass("getImg-bg"),y.objImg.asideIMG=[],$("#side").css("background-image","url(http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/side.png)"),$("#side").addClass("side-default"),n.findDOMNode(this.refs.asideImg).style.display="none",t.isLoadImgAsi=0,d=0,o.publish("isHaveImg",t),0==m&&$(".upload").css("background-color","#bbbbbb"),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_ShanChuZhaoPian)},componentDidMount:function(){var e=n.findDOMNode(this.refs.front),t=n.findDOMNode(this.refs.side);e.style.height=408*e.offsetWidth/306+"px",t.style.height=408*t.offsetWidth/306+"px",o.subscribe("isHaveImg",function(e,t){this.setState({isHaveImg:t})}.bind(this)),o.subscribe("initHTMLData",function(e,t){this.setState({initHTMLData:t})}.bind(this))},render:function(){window.getImg=this.getImg;var e,t,a=this.state.isHaveImg.isLoadImgFro,i=this.state.isHaveImg.isLoadImgAsi;return e=0==a?s.createElement("div",{id:"front",ref:"front",className:"uploadImg-img front front-default",onClick:this.AddfrontImgHandleClick,"data-obj_img":"frontIMG"},s.createElement("div",{className:"delete1",ref:"frontImg"})):s.createElement("div",{id:"front",ref:"front",className:"uploadImg-img front front-default",onClick:l.bindBigImg,"data-obj_img":"frontIMG"},s.createElement("div",{className:"delete1",ref:"frontImg",onClick:this.DelFrontHandleClick})),t=0==i?s.createElement("div",{id:"side",ref:"side",className:"uploadImg-img side side-default",onClick:this.AddsideImgHandleClick,"data-obj_img":"asideIMG"},s.createElement("div",{className:"delete2",ref:"asideImg"})):s.createElement("div",{id:"side",ref:"side",className:"uploadImg-img side side-default",onClick:l.bindBigImg,"data-obj_img":"asideIMG"},s.createElement("div",{className:"delete2",onClick:this.DelAsideHandleClick,ref:"asideImg"})),s.createElement("aside",{className:"uploadImg"},e,t)}}),k=s.createClass({displayName:"UploadQuestion",CancelClick:function(e){e.stopPropagation(),n.findDOMNode(this.refs.prompt_back).style.display="none",i()},render:function(){var e={height:document.body.scrollHeight},t={width:document.body.scrollWidth-50};return s.createElement("aside",{className:"row prompt-back",style:e,ref:"prompt_back",onClick:this.HideClick},s.createElement("div",{className:"col-xs-12 col-sm-12 prompt-main",style:t},s.createElement("div",{className:"row"},s.createElement("span",{className:"title"},"拍摄及上传要求"),s.createElement("img",{className:"del",src:"image/figureContrast/no.png",onClick:this.CancelClick})),s.createElement("div",{className:"prompt-pic col-xs-12 col-sm-12"},s.createElement("div",{className:"prompt-pic-left col-xs-6 col-sm-6"}),s.createElement("div",{className:"prompt-pic-right col-xs-6 col-sm-6"})),s.createElement("div",{className:"col-xs-12 col-sm-12"},s.createElement("div",{className:"col-xs-6 col-sm-6 example"},"正面照示例"),s.createElement("div",{className:"col-xs-6 col-sm-6 example"},"侧面照示例")),s.createElement("div",{className:"col-xs-12 col-sm-12 content"},s.createElement("p",null,"• 拍摄角度：正、侧面照片各一张，角度清晰，露出肩臂、腰腹、双腿；"),s.createElement("p",null,"• 拍摄位置：尽量保证同一个地方、同一个角度进行拍摄；"),s.createElement("p",null,"• 上传次数：至少在开营前、中、后分别拍摄三次照片，并添加体重、体脂和腰围；"))))}}),N=s.createClass({displayName:"ImgUpLoad",getInitialState:function(){var e={title:"编辑照片",color:"",opacity:"",backgroundColor:"",backgroundOpacity:""};return e=JSON.stringify(e),appFc.controlTitle(e),{DateList:[],DateHTMLArr:[],currentDate:"",strTime:"",days:"",dateListLen:"",weightDate:"",startX:"",startY:"",moveEndX:"",moveEndY:"",minNum2:"",testLeft:"",leftNum:"",isWeightDate:0,bigImgArr:[],initHTMLData:{}}},componentWillMount:function(){var e=ajaxLink+"/v1/api/campCommon/campDateList"+window.location.search+"&campId="+w;this.serverRequest=$.get(e,function(e){if(200==e.code){if(e.resp.dateList.length>0){for(var t=e.resp.dateList.length,a=e.resp.dateList[e.resp.dateList.length-1].time,i=e.resp.dateList,n=[],r=0;r<i.length;r++)n.push(s.createElement("div",{className:"swiper-slide","data-time":i[r].time,key:r},i[r].date));this.setState({DateList:i,strTime:a,DateHTMLArr:n,dateListLen:t})}}else $(".error-main-t").html(e.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}.bind(this))},componentDidMount:function(){o.subscribe("bigImgData",function(e,t){this.setState({bigImgArr:t})}.bind(this)),o.subscribe("initHTMLData",function(e,t){""!=t.weight&&null!=t.weight||$("#weightdata .clear").hide(),""!=t.fat&&null!=t.fat||$("#weightdata .clear").hide(),""!=t.waistMeasure&&null!=t.waistMeasure||$("#waistdata .clear").hide(),this.setState({initHTMLData:t})}.bind(this)),window.innerWidth>365?($(".weight-name").css("width","20%"),$("#weightdata").css("width","76%")):window.innerWidth<365&&window.innerWidth>340?($(".weight-name").css("width","21%"),$("#weightdata").css("width","74%")):window.innerWidth>=320&&window.innerWidth<340&&($(".weight-name").css("width","22%"),$("#weightdata").css("width","73%"))},UpLoadHandleClick:function(e){e.stopPropagation();var t=this.state.initHTMLData,a=t.frontPicture,i=t.facePicture,s=t.waistMeasureDate,n=t.waistMeasureId;if(0==m)var a="";if(0==d)var i="";console.log(m),console.log(d);var r=($("#dayc").html(),$("#selectdate").html(),getParamByUrl("imgId"));if((0!=m||0!=d)&&g){g=!1,null==t.waistMeasureDate&&(t.waistMeasureDate=""),null==t.weightDate&&(t.weightDate=""),null==t.fatDate&&(t.fatDate="");var o=ajaxLink+"/v1/api/campStu/updatePicture"+window.location.search+"&id="+r+"&frontPicture="+a+"&facePicture="+i+"&weight="+t.weightDate+"&fat="+t.fatDate+"&waistMeasure="+t.waistMeasureDate+"&day="+t.days+"&time="+t.currentDate+"&waistMeasureId="+t.waistMeasureId;$.ajax({type:"get",url:o,dataType:"json",success:function(e){if(g=!0,200==e.code){if($(".upload").css("opacity","0.6"),e.resp.waistMeasureId&&null!=e.resp.waistMeasureId&&""!=e.resp.waistMeasureId){""!=s&&null!=s||(s=0),n=e.resp.waistMeasureId;var t=function(){var t={roleId:v,serverId:n,girthNum:s,time:e.resp.operateTrime};return JSON.stringify(t)},a=isMobile();"isApp"==a&&"tanchao"!=getParamByUrl("testtype")&&appFc.changeGirth(t())}else{""!=s&&null!=s||(s=0);var t=function(){var t={roleId:v,serverId:n,girthNum:s,time:e.resp.operateTrime};return JSON.stringify(t)},a=isMobile();"isApp"==a&&"tanchao"!=getParamByUrl("testtype")&&appFc.changeGirth(t())}var a=isMobile();if("isApp"==a&&"tanchao"!=getParamByUrl("testtype")){if("android"==getParamByUrl("os")){appFc.showBackBtn(function(){var e={controlBtn:!1,function:""};return JSON.stringify(e)}())}appFc.deleteHistory(function(){var e={backNum:1,closeWebview:0};return JSON.stringify(e)}())}else if("false"!=getParamByUrl("imgId")){var i=removeParamByUrl("imgId");window.location.href="photoAlbum.html"+i}else window.location.href="photoAlbum.html"+window.location.search}else $(".error-main-t").html(e.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}})}setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_ShangChuan)},ShowUploadSugHandle:function(e){var t=parseInt($("html").css("font-size")),a=1.4375*t;if(window.innerHeight<440&&($(".prompt-main").css("padding","1rem 1.5625rem"),$(".prompt-main .content p").css("margin-bottom","0.5rem"),a=1*t),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_ChaKanShangChuanYaoQiu),"android"==getParamByUrl("os")){"isApp"==isMobile()&&"tanchao"!=getParamByUrl("testtype")&&appFc.showBackBtn(function(){var e={controlBtn:!0,function:"promptAndroid"};return JSON.stringify(e)}())}$(".prompt-back").css("display","block"),$(".prompt-pic-left").css("height",4*$(".prompt-pic-left").width()/3),$(".prompt-pic-right").css("height",4*$(".prompt-pic-left").width()/3),$(".prompt-main").css("margin-top",-$(".prompt-main").height()/2-a)},showDate:function(){$(".backscroll-time").css("height",$(window).height()),$(".backscroll-time").show();var e=this.state.dateListLen;new Swiper(".backscroll-time .swiper-container",{direction:"vertical",slidesPerView:5,initialSlide:e-1,centeredSlides:!0});if("android"==getParamByUrl("os")){"isApp"==isMobile()&&"tanchao"!=getParamByUrl("testtype")&&appFc.showBackBtn(function(){var e={controlBtn:!0,function:"dateAndroid"};return JSON.stringify(e)}())}},getCampDay:function(e){var t=this.state.initHTMLData,a=ajaxLink+"/v1/api/campCommon/campDay"+window.location.search+"&campId="+w+"&roleId="+v+"&time="+e;this.serverRequest=$.get(a,function(e){if(200==e.code){e.resp;t.days=e.resp,o.publish("initHTMLData",t)}else $(".error-main-t").html(e.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}.bind(this))},SureHandleClick:function(e){e.stopPropagation();var t=this.state.initHTMLData;t.currentDate=$(".swiper-slide-active").html(),o.publish("initHTMLData",t),this.HideTime(),i();var a=$(".swiper-slide-active").attr("data-time");this.getCampDay(a),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_XuanZeShiJian)},CancelHandleClick:function(e){e.stopPropagation(),this.HideTime(),i(),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_QuXiaoXuanZeShiJian)},HideTime:function(){n.findDOMNode(this.refs.backscroll_time).style.display="none"},WeightHandleClick:function(e){if(e.stopPropagation(),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_TianJiaTiZhi),1==this.state.isWeightDate){var t=document.querySelector(".fixBg-p"),a=document.querySelector(".fixBg"),i=document.querySelector(".fixBg-main");t.style.display="block",a.style.display="block",t.innerHTML="暂无测量数据哦，赶快去上秤吧~",i.style.marginTop=-i.offsetHeight/2,setTimeout(function(){a.style.display="none",t.style.display="none"},1500)}else this.getCampBodyIndexData(1)},getCampBodyIndexData:function(e){var t=this.state.initHTMLData,a=t.currentDate,i=ajaxLink+"/v1/api/campCommon/campBodyIndexData"+window.location.search+"&campId="+w+"&roleId="+v+"&time="+a;this.serverRequest=$.get(i,function(t){if(200==t.code){var a;t.resp&&(t.resp.sex&&(p=t.resp.sex),t.resp.bodyIndexDate&&t.resp.bodyIndexDate.length>0?(a=t.resp.bodyIndexDate,h=t.resp.beginIndex,this.setState({isWeightDate:0,weightDate:a}),1==e&&this.showWeight()):this.setState({isWeightDate:1}))}else $(".error-main-t").html(t.result.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}.bind(this))},showWeight:function(){this.state.initHTMLData;$(".backscroll-weight").css("height",$(window).height()),$(".backscroll-weight").css("display","block");new Swiper(".backscroll-weight .swiper-container",{direction:"vertical",initialSlide:h,slidesPerView:5,centeredSlides:!1});if($(".backscroll-weight .swiper-wrapper .selectImg").attr("src","https://cdn2.picooc.com/web/res/fatburn/image/figureContrast/nopick.png"),$(".backscroll-weight .swiper-wrapper .selectImg").eq(h).attr("src","https://cdn2.picooc.com/web/res/fatburn/image/figureContrast/pick.png"),"android"==getParamByUrl("os")){"isApp"==isMobile()&&"tanchao"!=getParamByUrl("testtype")&&appFc.showBackBtn(function(){var e={controlBtn:!0,function:"weightAndroid"};return JSON.stringify(e)}())}},delWeightClick:function(e){var t=this.state.initHTMLData;t.weight="",t.fat="",t.weightDate="",t.fatDate="",e.preventDefault(),e.stopPropagation(),o.publish("initHTMLData",t),e.currentTarget.style.display="none"},getWaistList:function(){var e=this.state.initHTMLData.waistMeasureDate;console.log(e),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_TianJiaYaoWei),$(".backscroll-waist").css("height",$(window).height()),$(".backscroll-waist").css("display","block");var t=$("#line").get(0),t=t.getContext("2d"),a=70;if(console.log(p),1==p){a=80;var i=14960,s=1360,n=48,r=4800,o=-13382}else{a=70;var i=13090,s=1190,n=42,r=4200,o=-11713}this.setState({minNum2:r,leftNum:o}),$("#line").css("width",i+"px"),$("#line").css("height","60px"),$("#line").attr("width",2*i),$("#line").attr("height",120),t.strokeStyle="#000000",t.lineWidth=2,t.font="24px  Arial";for(var c=1;c<s;c++)c%5==0?(t.beginPath(),t.moveTo(10*c*2+1,0),t.lineTo(10*c*2+1,64),t.strokeStyle="#000000",t.stroke(),t.textAlign="center",t.fillText(n+c/10,10*c*2+1,92)):(t.beginPath(),t.moveTo(10*c*2+1,16),t.lineTo(10*c*2+1,64),t.strokeStyle="#000000",t.stroke());if(""!=e&&null!=e&&(a=e),$("#line-bg").css("left",parseInt($(window).width()/2)),$("#line").css("left",parseInt(parseInt($(window).width()/2)+r)-100*a),$(".num").html((parseInt($(window).width()/2)-parseInt($("#line").css("left"))+r)/100),"android"==getParamByUrl("os")){"isApp"==isMobile()&&"tanchao"!=getParamByUrl("testtype")&&appFc.showBackBtn(function(){var e={controlBtn:!0,function:"wasitAndroid"};return JSON.stringify(e)}())}},WaistTouchStart:function(e){e.preventDefault();var t=e.changedTouches[0].pageX,a=e.changedTouches[0].pageY,i=parseInt($("#line").css("left"));this.setState({startX:t,startY:a,testLeft:i})},WaistTouchMove:function(e){e.preventDefault(),e.stopPropagation();var t=e.changedTouches[0].pageX,a=(e.changedTouches[0].pageY,this.state.startX),i=(this.state.startY,this.state.testLeft),s=this.state.leftNum,n=t-a;i+n>$(window).width()/2?$("#line").css("left",$(window).width()/2):i+n<s-$(window).width()/10?$("#line").css("left",s+"px"):$("#line").css("left",i+n)},WaistTouchEnd:function(e){e.preventDefault(),e.stopPropagation();var t=this.state.minNum2;$("#line").css("left",parseInt($("#line").css("left"))+(parseInt($(window).width()/2)-parseInt($("#line").css("left")))%10),$(".num").html((parseInt($(window).width()/2)-parseInt($("#line").css("left"))+t)/100)},WaistSureClick:function(e){var t=this.state.initHTMLData;e.preventDefault(),e.stopPropagation();var a=n.findDOMNode(this.refs.backscroll_waist);a.style.display="none";var s=a.querySelector(".num");t.waistMeasure="："+s.innerHTML+"CM",t.waistMeasureDate=s.innerHTML,o.publish("initHTMLData",t),n.findDOMNode(this.refs.delWaist).style.display="block",i(),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_XuanZeYaoWei)},WaistCancelClick:function(e){e.preventDefault(),e.stopPropagation(),n.findDOMNode(this.refs.backscroll_waist).style.display="none",i(),setMaiDian(b.SCategory_SBianJiZhaoPian,b.SBianJiZhaoPian_QuXiaoXuanZeYaoWei)},delWaist:function(e){var t=this.state.initHTMLData;e.preventDefault(),e.stopPropagation();var a=e.currentTarget;a.style.display="none";var i=a.parentNode;i.querySelector(".waistdatas").innerHTML="",t.waistMeasureDate="",console.log(i)},tipsClick:function(e){e.stopPropagation(),n.findDOMNode(this.refs.fixBg_btn).style.display="none"},render:function(){var e={position:"absolute",top:"5.35rem",height:"2.675rem",left:"0",width:"100%"},t=this.state.DateHTMLArr,a=(this.state.days,this.state.weightDate),i=this.state.initHTMLData;window.getCampBodyIndexData=this.getCampBodyIndexData;var n,o=this.state.bigImgArr;""!=o&&(n=s.createElement(c,{bigImgArr:o}));var m={height:document.body.scrollHeight},d={width:document.body.scrollWidth-140};return s.createElement("div",null,s.createElement("section",{className:"container"},s.createElement("aside",{className:"row time",onTouchStart:this.showDate},s.createElement("span",{id:"selectdate"},i.currentDate)," ",s.createElement("span",{id:"selectday"},"DAY",s.createElement("span",{id:"dayc"},i.days))),s.createElement(S,null),s.createElement("div",{className:"prompt"},s.createElement("div",{id:"prompt",onClick:this.ShowUploadSugHandle},s.createElement("img",{className:"prompt-img",src:"image/figureContrast/i.png"}),s.createElement("div",{className:"prompt-content"},"拍摄及上传要求"))),s.createElement("div",{className:"col-xs-12 col-sm-12 line-1px"}),s.createElement("div",{className:"tishi"},"您还可以为照片添加标记："),s.createElement("aside",{id:"selectweight",className:"row weight",onTouchStart:this.WeightHandleClick},s.createElement("span",{className:"weight-name"},"体重/脂肪"),s.createElement("span",{id:"weightdata"},s.createElement("span",{id:"weight"},i.weight),s.createElement("span",{id:"fat"},i.fat),s.createElement("span",{className:"clear",onClick:this.delWeightClick}))),s.createElement("aside",{id:"selectwaist",className:"row waist",onTouchStart:this.getWaistList},s.createElement("span",{className:"waist-name"},"腰围"),s.createElement("span",{id:"waistdata"},s.createElement("span",{className:"waistdatas"},i.waistMeasure),s.createElement("span",{className:"clear",ref:"delWaist",onClick:this.delWaist}))),s.createElement("a",{className:"row upload",onTouchStart:this.UpLoadHandleClick},"上传"),n,s.createElement("div",{className:"backscroll-time",ref:"backscroll_time"},s.createElement("div",{className:"select-container"},s.createElement("div",{className:"select-title"},s.createElement("div",{className:"select-cancel",onClick:this.CancelHandleClick}),s.createElement("div",{className:"select-head"},"选择拍照日期"),s.createElement("div",{className:"select-sure",onClick:this.SureHandleClick})),s.createElement("div",{className:"select-content swiper-container"},s.createElement("img",{src:"http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/top-meng.png",className:"top-meng"}),s.createElement("img",{src:"http://cdn2.picooc.com/web/res/fatburn/image/figureContrast/bottom-meng.png",className:"bottom-meng"}),s.createElement("div",{className:"swiper-wrapper"},t),s.createElement("div",{className:"doubleline",style:e})))),s.createElement(I,{data_fat:a}),s.createElement("div",{className:"backscroll-waist",ref:"backscroll_waist"},s.createElement("div",{className:"select-container"},s.createElement("div",{className:"select-title"},s.createElement("div",{className:"select-cancel",onClick:this.WaistCancelClick}),s.createElement("div",{className:"select-head"},"添加腰围"),s.createElement("div",{className:"select-sure",onClick:this.WaistSureClick})),s.createElement("div",{className:"select-content"},s.createElement("div",{className:"waistList",onTouchStart:this.WaistTouchStart,onTouchMove:this.WaistTouchMove,onTouchEnd:this.WaistTouchEnd},s.createElement("div",{id:"num"},s.createElement("span",{className:"num"}),"cm"),s.createElement("div",{id:"line-main"},s.createElement("img",{src:"image/figureContrast/left-meng.png",className:"left-meng"}),s.createElement("img",{src:"image/figureContrast/right-meng.png",className:"right-meng"}),s.createElement("canvas",{id:"line",width:"44880",height:"180"})),s.createElement("div",{id:"line-bg"})))))),s.createElement("aside",{className:"row fixBg",style:m},s.createElement("div",{className:"col-xs-12 col-sm-12 fixBg-main",style:d},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-xs-12 col-sm-12 fixBg-top"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-xs-12 col-sm-12 fixBg-p"},"222222")))))),s.createElement(k,null),s.createElement(r,null),s.createElement("div",{className:"saveImg-ceng"},s.createElement("aside",{className:"row saveImg"},s.createElement("div",{className:"col-xs-12 col-sm-12 saveImg-btn saveImg-item",onClick:l.saveImgBtnTouchStart},"保存图片"),s.createElement("div",{className:"col-xs-12 col-sm-12 cancelImg-btn saveImg-item",onClick:l.cancelImgBtnTouchStart},"取消"))))}});n.render(s.createElement(N,null),document.getElementById("uploadImgBox"))},6:function(e,t,a){"use strict";function i(){if(w){w=!1;var e={display:!0};e=JSON.stringify(e),appFc.showTitle(e);appFc.showBackBtn(function(){var e={controlBtn:!1,function:""};return JSON.stringify(e)}());var t=setTimeout(function(){$("body").css("overflow","auto"),$("body").removeAttr("style"),$(".bigImg").css("display","none"),"block"==$(".page1").css("display")&&$(".setcard-img").css("display","block"),$(".saveImg-ceng").css("display","none"),document.addEventListener("touchmove",function(e){"hidden"==$("body").css("overflow")&&e.preventDefault()}),clearTimeout(n),clearTimeout(t),console.log(s);try{s.slideTo(0,1e3,!1),s.destroy(!0),console.log("mySwiper摧毁")}catch(t){var e=[];p.publish("bigImgData",e),console.log("mySwiper错误")}w=!0},200)}event.stopPropagation()}var s,n,r,o,c,l,m,d,g,p=a(2),h={},u=$(window).width(),f=$(window).height(),w=!0;window.commentDisplayBtn=!1,h.bindBigImg=function(e){if("block"==$(".comment2").css("display")||commentDisplayBtn)$("#comment-msg").blur(),commentDisplayBtn=!1;else{c=!0;var t=e.currentTarget.getAttribute("data-obj_img"),a=e.currentTarget.getAttribute("data-obj_img_index"),i=publicData.objImg[t];p.publish("bigImgData",i),"block"==$(".page1").css("display")&&$(".setcard-img").css("display","none"),$(".comment").css("display","none"),$("#comment-msg").blur(),$(".getImg-bg").css("height",$(".getImg-bg").width()),$(".bigImg-li").css("width",u),"android"==getParamByUrl("os")?$(".bigImg-li").css("height",f+70):$(".bigImg-li").css("height",f+64);var r={display:!1};r=JSON.stringify(r),appFc.showTitle(r);appFc.showBackBtn(function(){var e={controlBtn:!0,function:"closeBigImg"};return JSON.stringify(e)}()),n=setTimeout(function(){$("body").css("max-height",$(window).height()),$("body").css("overflow","hidden"),$(".swiper-container").css("width",$(window).width()),$(".swiper-wrapper").css("width",$(window).width()),$(".bigImg-li").css("width",$(window).width()),$(".bigImg").css("display","block"),document.addEventListener("touchmove",function(e){"hidden"==$("body").css("overflow")&&e.preventDefault()}),1==publicData.objImg[t].length?(s=new Swiper(".swiper-container-bigImg",{}),console.log(s)):(s=new Swiper(".swiper-container-bigImg",{pagination:".swiper-pagination-bigImg",spaceBetween:1,centeredSlides:!0,initialSlide:a}),console.log(s))},200)}},h.imgTouchStart=function(e){console.log(e),clearTimeout(o),o="",l=e.changedTouches[0].pageX,m=e.changedTouches[0].pageY;e.currentTarget.getAttribute("data-index");console.log(e.currentTarget.getAttribute("data-index")),r=$(e.currentTarget).css("background-image").split("(")[1].split(")")[0],console.log(r),console.log($(".bigImg").css("display")),console.log("setTimeout1"),o=setTimeout(function(){"block"==$(".bigImg").css("display")&&(console.log("setTimeout2"),$(".saveImg-ceng").css("height",$(window).height()),$(".saveImg-ceng").css("display","block"),c=!1),clearTimeout(o)},800),e.preventDefault()},h.imgTouchMove=function(e){if("block"==$(".saveImg-ceng").css("display"))clearTimeout(o),c=!1;else{d=e.changedTouches[0].pageX,g=e.changedTouches[0].pageY;var t,a;t=d-l,a=g-m,console.log(t+"|"+a),(t<-50||t>50||a<-50||a>50)&&(clearTimeout(o),c=!1)}e.preventDefault()},h.imgTouchEnd=function(e){d=e.changedTouches[0].pageX,g=e.changedTouches[0].pageY;var t,a;t=d-l,a=g-m,(t<-20||t>20||a<-20||a>20)&&(console.log("clearTimeout执行"),clearTimeout(o),c=!1),clearTimeout(o),console.log("timeBtn:"+c),console.log(o),c&&i(),c=!0,e.preventDefault()},h.saveImgBtnTouchStart=function(){event.stopPropagation(),event.preventDefault();isMobile();appFc.saveImg(function(){var e={url:r};return JSON.stringify(e)}()),$(".saveImg-ceng").css("display","none")},h.cancelImgBtnTouchStart=function(){event.stopPropagation(),event.preventDefault(),$(".saveImg-ceng").css("display","none")},h.saveImgCengTouchStart=function(){$(".saveImg-ceng").css("display","none"),event.stopPropagation(),event.preventDefault()},e.exports=h}},[211]);