webpackJsonp([18],{245:function(e,a,t){"use strict";function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var n=t(0),o=t(1),i=getParamByUrl("roleId"),l=getParamByUrl("targetRoleId"),s=t(3),c={SCategory_SWoDeFangAn:5060200,SWoDeFangAn_YinShiFangAn:5060201,SWoDeFangAn_YunDongFangAn:5060202,SWoDeFangAn_FangAnXiangQing:5060203},m=n.createClass({displayName:"ClassTag",getInitialState:function(){return{trainPlanArr:[],userDatumStyle:{display:"none"}}},componentDidMount:function(){var e=this,a=(getParamByUrl("userId"),getParamByUrl("campId"),getParamByUrl("targetCampId"));i!=l&&"false"!=l?e.getTrainPlan():a>237?$.ajax({url:location.origin+"/v1/api/campScheme/queryFianco"+location.search,type:"get",dataType:"json",success:function(a){200==a.code?(console.info(a),0==a.resp?e.setState({userDatumStyle:{display:"block"}}):e.getTrainPlan()):($(".error-main-t").html(a.resp.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2))},error:function(){$(".error-main-t").html("网络错误～"),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}}):e.getTrainPlan()},getTrainPlan:function(){var e=this,a=window.location.protocol+"//"+window.location.host,t=a+"/v1/api/camp/getScheme"+window.location.search;console.info(t),$.ajax({type:"get",url:t,dataType:"json",success:function(a){200==a.code?e.setState({trainPlanArr:a}):($(".error-main-t").html("服务器开小差了～"),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2))}})},jumpTrainPlan:function(e){var a=this;setMaiDian(c.SCategory_SWoDeFangAn,c.SWoDeFangAn_FangAnXiangQing),a.openNewWebview(e)},openNewWebview:function(e){"isApp"==isMobile()&&"tanchao"!=getParamByUrl("testtype")?appFc.openWebview(function(){var a={link:e,animation:1};return JSON.stringify(a)}()):window.location.href=e},trainPlan:function(e){setMaiDian(c.SCategory_SWoDeFangAn,c.SWoDeFangAn_FangAnXiangQing),this.getWeekTrain(e)},getWeekTrain:function(e){var a=getParamByUrl("campId"),t=getParamByUrl("roleId"),r=function(){var r={campId:a,roleId:t,weekIndex:e};return JSON.stringify(r)};isMobile();"android"==getParamByUrl("os")?mobileApp.getWeekTrain(r()):window.webkit.messageHandlers.getWeekTrain.postMessage(r()),document.documentElement.style.webkitTouchCallout="none"},toSportTest:function(e){var a;e.stopPropagation();var t=this;setCookiePath("toQuestionSource",1,1,"/;domain=picooc.com");var n=getParamByUrl("orderId"),o=window.location.protocol+"//"+window.location.host,i=o+"/v1/api/campQuestion/complete"+window.location.search;$.ajax((a={url:i,type:"get"},r(a,"url",i),r(a,"dataType","json"),r(a,"success",function(e){if(200==e.code)if(1==e.resp.sportText)0==e.resp.sportVideo?t.jumpSport(e.resp.campId,n):t.getSportResult(e.resp.campId,n);else{var a=absoluteUrl+"trainExplain.html"+window.location.search,r=isMobile();"isApp"==r?appFc.openWebview(function(){var e={link:a,animation:1};return JSON.stringify(e)}()):window.location.href=a}else $(".error-main-t").html(e.message),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}),r(a,"error",function(){$(".error-main-t").html("网络错误~"),$(".errorAlert").css("display","block"),$(".error-main").css("margin-top",-$(".error-main").height()/2)}),a))},getSportResult:function(e,a){var t=getParamByUrl("roleId"),r=isMobile(),n=function(){var r={roleId:t,campId:e,orderId:a};return JSON.stringify(r)};"isApp"==r&&("android"==getParamByUrl("os")?mobileApp.getSportResult(n()):window.webkit.messageHandlers.getSportResult.postMessage(n())),document.documentElement.style.webkitTouchCallout="none"},jumpSport:function(e,a){var t=getParamByUrl("roleId"),r=isMobile(),n=function(){var r={roleId:t,type:1,campId:e,orderId:a};return JSON.stringify(r)};"isApp"==r&&("android"==getParamByUrl("os")?mobileApp.jumpSport(n()):window.webkit.messageHandlers.jumpSport.postMessage(n())),document.documentElement.style.webkitTouchCallout="none"},render:function(){var e=[],a=this,t=a.state.trainPlanArr,r=this.state.userDatumStyle,o=removeParamByUrl("roleId");if(console.log(o),void 0!==t.resp)if(i!=l&&"false"!=l)for(var s=0;s<t.resp.length;s++){var c=t.resp[s].weekIndex;""==t.resp[s].url||null==t.resp[s].url?0==t.resp[s].weekIndex?e.push(n.createElement("a",{key:s,href:t.resp[s].url+window.location.search,className:"sportPlan-item"},t.resp[s].weekNum+"  "+t.resp[s].title)):e.push(n.createElement("a",{key:s,href:location.origin+"/web/trainer1.7/getWeekScheme.html"+o+"&roleId="+l+"&weekIndex="+c,className:"sportPlan-item"}," ",t.resp[s].weekNum+"  "+t.resp[s].title)):e.push(n.createElement("a",{key:s,onClick:a.jumpTrainPlan.bind(this,t.resp[s].url+window.location.search),className:"sportPlan-item"},t.resp[s].weekNum+"  "+t.resp[s].title))}else for(var s=0;s<t.resp.length;s++){var c=t.resp[s].weekIndex;""==t.resp[s].url||null==t.resp[s].url?0==t.resp[s].weekIndex?e.push(n.createElement("a",{key:s,href:t.resp[s].url+window.location.search,className:"sportPlan-item"},t.resp[s].weekNum+"  "+t.resp[s].title)):e.push(n.createElement("a",{key:s,onClick:this.trainPlan.bind(this,c),className:"sportPlan-item"}," ",t.resp[s].weekNum+"  "+t.resp[s].title)):e.push(n.createElement("a",{key:s,onClick:a.jumpTrainPlan.bind(this,t.resp[s].url+window.location.search),className:"sportPlan-item"},t.resp[s].weekNum+"  "+t.resp[s].title))}return n.createElement("div",{className:"row planContent"},n.createElement("div",{className:"row part1"},e,n.createElement("div",{className:"userDatum",id:"sportTest",style:r,onClick:this.toSportTest},n.createElement("div",null,n.createElement("img",{src:"http://cdn2.picooc.com/web/res/fatburn/image/openTrain/plan.png"})),n.createElement("div",{className:"datumTitle1"},"运动能力测试"),n.createElement("div",{className:"datumTitle2"},"教练会根据您的身体素质定制运动计划"))),n.createElement("div",{className:"row part2"},n.createElement("a",{className:"eatPlan-item",href:"javascript:void(0);",onClick:a.jumpTrainPlan.bind(this,"http://detection.picooc.com/details255"+window.location.search)},"饮食结构 （吃什么）"),n.createElement("a",{className:"eatPlan-item",href:"javascript:void(0);",onClick:a.jumpTrainPlan.bind(this,"http://detection.picooc.com/details256"+window.location.search)},"饮食方法 （怎么吃）")))}}),p=n.createClass({displayName:"TrainPlan",getInitialState:function(){var e=getParamByUrl("roleId"),a=getParamByUrl("targetRoleId"),t="";t=e!=a&&"false"!=a?"Ta的方案":"我的方案";var r={title:t,color:"",opacity:"",backgroundColor:"",backgroundOpacity:""};return r=JSON.stringify(r),appFc.controlTitle(r),{}},changeTag:function(e){0==e?setMaiDian(c.SCategory_SWoDeFangAn,c.SWoDeFangAn_YinShiFangAn):1==e&&setMaiDian(c.SCategory_SWoDeFangAn,c.SWoDeFangAn_YunDongFangAn),$(".tagItem").eq(e).addClass("active").siblings().removeClass("active"),0==e?($(".part1").css("display","block"),$(".part2").css("display","none")):($(".part1").css("display","none"),$(".part2").css("display","block"))},render:function(){var e=this;return n.createElement("div",{className:"container"},n.createElement("ul",{className:"row classTag"},n.createElement("li",{className:"tagItem  active col-xs-6 col-sm-6",onClick:e.changeTag.bind(this,0)},n.createElement("span",null,"运动方案")),n.createElement("li",{className:"tagItem col-xs-6 col-sm-6",onClick:e.changeTag.bind(this,1)},n.createElement("span",null,"饮食方案"))),n.createElement(m,null))}}),u=n.createClass({displayName:"Component",render:function(){return n.createElement("div",null,n.createElement(p,null),n.createElement(s,null))}});o.render(n.createElement(u,null),document.getElementById("planMain"))}},[245]);