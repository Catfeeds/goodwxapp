<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
		<meta name="description" content="">
		<meta name="author" content="ThemeBucket">
		<link rel="shortcut icon" href="#" type="image/png">

		<title>用户中心</title>
		<!--pickers css-->
		<link rel="stylesheet" type="text/css" href="js/bootstrap-datepicker/css/datepicker-custom.css" />
		<link rel="stylesheet" type="text/css" href="js/bootstrap-timepicker/css/timepicker.css" />
		<link rel="stylesheet" type="text/css" href="js/bootstrap-colorpicker/css/colorpicker.css" />
		<link rel="stylesheet" type="text/css" href="js/bootstrap-daterangepicker/daterangepicker-bs3.css" />
		<link rel="stylesheet" type="text/css" href="js/bootstrap-datetimepicker/css/datetimepicker-custom.css" />
		<link href="css/style.css" rel="stylesheet">
		<link href="css/style-responsive.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="css/select2.min.css"/>
		

		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			  <script src="js/html5shiv.js"></script>
			  <script src="js/respond.min.js"></script>
			  <![endif]-->
		<!-- Placed js at the end of the document so the pages load faster -->
		<script src="js/jquery-1.10.2.min.js"></script>
		<script src="js/jquery-ui-1.9.2.custom.min.js"></script>
		<script src="js/jquery-migrate-1.2.1.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/modernizr.min.js"></script>
		<script src="js/jquery.nicescroll.js"></script>

		<!--pickers plugins-->
		<script type="text/javascript" src="js/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
		<script type="text/javascript" src="js/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
		<script type="text/javascript" src="js/bootstrap-daterangepicker/moment.min.js"></script>
		<script type="text/javascript" src="js/bootstrap-daterangepicker/daterangepicker.js"></script>
		<script type="text/javascript" src="js/bootstrap-colorpicker/js/bootstrap-colorpicker.js"></script>
		<script type="text/javascript" src="js/bootstrap-timepicker/js/bootstrap-timepicker.js"></script>

		<!--bootstrap Table-->
		<script src='js/bootstrap-table.js'></script>
		<script src='js/bootstrap-table-zh-CN.js'></script>
		<script src='js/bootstrap-editable.js'></script>
		<script src='js/bootstrap-table-editable.js'></script>

		<!--pickers initialization-->
		<script src="js/pickers-init.js"></script>

		<!--common scripts for all pages-->
		<script src="js/layer.js"></script>
		<script src="js/scripts.js"></script>
		<script src="js/ysh_comm.js"></script>
		<script src="js/MD5.js"></script>
		<!--adddate-->
		<script src="js/adddate.js"></script>
		<script src="js/select2.min.js"></script>
		
		

		<script type="text/javascript">
			checkPermission();
		</script>
	</head>

	<body class="children-body">

		<section>
			<!--body wrapper start-->
			<section>
				<!-- page start-->

				<div class="row">
					<div class="col-lg-12">
						<section class="panel">
							<header class="panel-heading">
								用户中心
							</header>

							<div class="panel-body">

								<form class="form-horizontal" role="form" id="condition">

									<div class="row clearfix">
										<div class="col-lg-4">
											<div class="form-group">

												<label class="col-sm-3 control-label col-lg-3">用户编码</label>

												<div class="col-lg-9">

													<input type="text" class="form-control m-bot15" name="UserId">

												</div>

											</div>
										</div>

										<div class="col-lg-4">

											<div class="form-group">
												<label class="col-sm-3 control-label col-lg-3">用户名</label>
												<div class="col-lg-9">

													<input type="text" class="form-control m-bot15" name="UserName">

												</div>
											</div>
										</div>

										<div class="col-lg-4">
											<div class="form-group" style="display: none;">
												<label class="col-sm-3 control-label col-lg-3">所属分组</label>
												<div class="col-lg-9">

													<select class="form-control m-bot15" id="Group" name="Group">
													</select>

												</div>
											</div>
										</div>
									</div>

									<div class="row clearfix">

										<div class="col-lg-4">
											<div class="form-group">
												<label class="col-sm-3 control-label col-lg-3">用户角色</label>
												<div class="col-lg-9">
													<select class="form-control m-bot15" id="Role" name="Role">
													</select>

												</div>
											</div>
										</div>

										<div class="col-lg-4">
											<div class="form-group">
												<label class="col-sm-3 control-label col-lg-3">注册来源</label>
												<div class="col-lg-9">

													<select class="form-control m-bot15" id="Source" name="Source">
													</select>
												</div>
											</div>
										</div>

										<div class="col-lg-4">
											<div class="form-group">
												<label class="col-sm-3 control-label col-lg-3">用户等级</label>
												<div class="col-lg-9">
													<select class="form-control m-bot15" id="Grade" name="Grade">
													</select>
												</div>
											</div>
										</div>
									</div>

									<div class="row clearfix">

										<div class="col-lg-4">
											<div class="form-group">
												<label class="control-label col-lg-3 col-sm-3 ">注册时间:</label>
												<div class="col-lg-9">
													<!--<div data-date-viewmode="years" data-date-format="yyyy-mm-dd" data-date="" class="input-append date dpYears" id="dStartTime">
														<input type="text" readonly="" size="16" class="form-control" name="StartTime" id="StartTime">
														<span class="input-group-btn add-on">
                                                            <button class="btn btn-primary" type="button"><i class="fa fa-calendar"></i></button>
                                                          </span>
													</div>-->
													<input type="text" class="form-control m-bot15" id="StartTime" name="StartTime" onclick="SelectDate(this,'yyyy-MM-dd')" />
												</div>
											</div>
										</div>

										<div class="col-lg-4">
											<div class="form-group">
												<label class="control-label col-lg-3 col-sm-3 ">至:</label>
												<div class="col-lg-9">
													<!--<div data-date-viewmode="years" data-date-format="yyyy-mm-dd" data-date="" class="input-append date dpYears" id="dEndTime">
														<input type="text" readonly="" size="16" class="form-control" name="EndTime" id="EndTime">
														<span class="input-group-btn add-on">
                                                            <button class="btn btn-primary" type="button"><i class="fa fa-calendar"></i></button>
                                                          </span>
													</div>-->
													<input type="text" class="form-control m-bot15" id="EndTime" name="EndTime" onclick="SelectDate(this,'yyyy-MM-dd')" />
													
												</div>
											</div>
										</div>

										<div class="col-lg-4">
											<div class="form-group">
												<label class="col-sm-3 control-label col-lg-3">审核状态</label>
												<div class="col-lg-9">
													<select class="form-control m-bot15" name="Auth" id="Auth">
													</select>
												</div>
											</div>
										</div>

									</div>
									<div class="row clearfix">
										<div class="col-lg-12 text-right">
											<button class="btn btn-info" type="button" onclick="Query()">搜索</button>
										</div>
									</div>
								</form>

							</div>
						</section>
					</div>
				</div>
				<div class="row ">
					<div class="col-lg-12">
						<section class="panel">
							<div class="panel-heading">

								<div class="row ">
									<button class="btn btn-success" type="button" onclick="AddUser()">添加用户</button>
									<button class="btn btn-danger" type="button" onclick="BatchDeleteUser()">删除用户</button>
									<button class="btn btn-danger" type="button" onclick="BatchResetPassword()">复位密码</button>
								</div>
								<div class="row" style="height: 20px;">

								</div>
								<div class="row ">

									<!--<button class="btn btn-warning" type="button" onclick="BatchChange('Role','角色')">变更角色</button>-->
									<!--<button class="btn btn-warning" type="button" onclick="BatchChange('Grade','等级')">变更等级</button>-->
									<!--<button class="btn btn-warning" type="button">导出用户</button>-->
									<!--<button class="btn btn-warning" type="button" onclick="BatchAuth()">审核用户</button>-->
									<!--<button class="btn btn-warning" type="button" onclick="BatchChangeChannel()">变更渠道、分组、团体</button>-->
								</div>
							</div>
							<div class="panel-body">
								<table id="CustomerInfo" class="table table-striped table-condensed table-hover talbe-border">
									<thead>
										<tr>
											<th data-field="status" data-align="center" data-checkbox="true" data-formatter="checkFormatter"></th>
											<!--<th data-field="Id" data-align="center" >用户编号</th>-->
											<th data-field="UserName" data-align="center" data-formatter="dataFormatter">用户名</th>
											<!--     <th data-field="UserRole" data-align="center" data-formatter="dataFormatter">角色</th>-->
											<th data-field="UserGrade" data-align="center" data-formatter="dataFormatter">等级</th>
											<th data-field="UserChannel" data-align="center" data-formatter="dataFormatter">所属渠道</th>
											<th data-field="UserGroup" data-align="center" data-formatter="dataFormatter">拥有分组</th>
											<th data-field="UserParty" data-align="center" data-formatter="dataFormatter">所属团体</th>
											<th data-field="UserSource" data-align="center" data-formatter="dataFormatter">注册来源</th>
											<th data-field="RegDate" data-align="center">注册时间</th>
											<th data-field="Orders" data-align="center">累计订单</th>
											<th data-field="Amount" data-align="center">累计消费</th>
											<th data-field="Phone" data-align="center">联系电话</th>
											<th data-field="Authorization" data-align="center">审核状态</th>
											<th data-field="Operation" data-align="center" data-formatter="operationFormatter">操作</th>
										</tr>
									</thead>
								</table>

							</div>
						</section>

					</div>

					<!-- Modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal" class="modal fade">
						<div class="modal-dialog">
							<div class="modal-content">
								<form id="modalForm">
									<div class="modal-header">
										<button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
										<h4 class="modal-title" id="modalTitle"></h4>
									</div>
									<div class="modal-body">
										<div class="form-horizontal">
											<div class="form-group" id="divId">
												<label for="Id" class="control-label col-lg-4" id="modalLabel"></label>
												<div class="col-lg-8">
													<select class="form-control" id="modalSelectList" name="">
													</select>
												</div>
											</div>
										</div>
									</div>
									<div class="modal-footer">
										<button id="saveBtn" type="button" class="btn btn-success" onclick="saveData()">保存</button>
										<button id="closeBtn" type="button" class="btn btn-default" data-dismiss="modal">取消</button>
									</div>
								</form>
							</div>
						</div>
					</div>
					<!-- 分组modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="fenzuModal" class="modal fade">
						<div class="modal-dialog">
							<div class="modal-content">
								<form id="modalForm1">
									<div class="modal-header">
										<button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
										<h4 class="modal-title">用户分组</h4>
									</div>
									<div class="modal-body">
										<div class="form-horizontal">
											<div class="form-group">
												<label class="control-label col-lg-2">分组:</label>
												<div class="col-lg-8">
													<select class="form-control" id="SelectFenzu" name="SelectFenzu"></select>
												</div>
												<div id="Fenzu_View"></div>
											</div>
										</div>
									</div>
									<div class="modal-footer">
										<button id="saveBtn" type="button" class="btn btn-success" onclick="addFenzu()">添加</button>
										<button id="closeBtn" type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
									</div>
								</form>
							</div>
						</div>
					</div>
					<!-- 分组modal结束 -->
					<!-- Modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal1" class="modal fade">
						<div class="modal-dialog">
							<div class="modal-content">
								<form id="modalForm1">
									<div class="modal-header">
										<button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
										<h4 class="modal-title">变更渠道、分组、团体</h4>
									</div>
									<div class="modal-body">
										<div class="form-horizontal">

											<div class="form-group">
												<label class="control-label col-lg-4">用户渠道:</label>

												<div class="col-lg-8">
													<select class="form-control" id="SelectChannel" name="SelectChannel">
													</select>
												</div>

											</div>

											<div class="form-group">
												<label class="control-label col-lg-4">用户分组:</label>

												<div class="col-lg-8">
													<select class="form-control" id="SelectGroup" name="SelectGroup">
													</select>
												</div>
											</div>

											<div class="form-group">
												<label class="control-label col-lg-4">用户团体:</label>
												<div class="col-lg-8">
													<select class="form-control" id="SelectParty" name="SelectParty">
													</select>
												</div>

											</div>
										</div>
									</div>
									<div class="modal-footer">
										<button id="saveBtn" type="button" class="btn btn-success" onclick="saveData1()">保存</button>
										<button id="closeBtn" type="button" class="btn btn-default" data-dismiss="modal">取消</button>
									</div>
								</form>
							</div>
						</div>
					</div>
					<!-- modal -->
				</div>
			</section>
		</section>
	</body>
	<script src="js/laytpl.js"></script>
	<script src="script/Admin_CustomerCenter.js"></script>
	<script type="text/html" id="tplFenzu">
		<div style="height: 50px;"></div>
		<label class="control-label col-lg-2">分组{{d.number}}</label>
		<span class="control-label col-lg-5" style="text-align: center;">{{d.UserGroup}}</span>
		<button type="button" class="btn btn-default" onclick="delete_Group_Map({{d.ID}})">删除</button>
		<div class="col-lg-1"></div>
	</script>
	<script type="text/javascript">
		$(function(){
			$('select').select2();
			$(".select2").css("width","100%");
			leftCancelShade('myModal');
			leftCancelShade('fenzuModal');
		})
	</script>

</html>